<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8"/>
<script crossorigin="anonymous" integrity="sha512-C2RveGuPIWqkaLAluvoxyiaN1XYNe5ss11urhZWZYBUA9Ydgj+hfGKPcxCzTwut1/fmjEZR7Ac35f2aycT8Ogw==" src="https://cdnjs.cloudflare.com/ajax/libs/d3/6.2.0/d3.min.js">
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.3.0/math.min.js"></script>
<style rel="stylesheet" type="text/css">:root{--color-highlight:#5df;--color-secondary:#f3c002;--color-tertiary:#14c778;--color-quaternary:#e5d}body{background-color:#000;color:#fff;font-size:22px;font-family:sans-serif;line-height:1.8em}.grid-left-right{display:grid;grid-template-columns:13em 1fr;align-items:start}.controls-container{display:inline-block;border:2px solid #fff;border-radius:5px;padding:10px}.controls{grid-row:span 2;display:grid;grid-template-columns:1fr;row-gap:2px}.controls>:nth-child(2n+3){margin-top:30px}.draggable:hover{cursor:grab}.draggable:active{cursor:grabbing}.slider-container{grid-row:span 2;display:grid;grid-template-columns:1fr;row-gap:2px}.slider-container>:nth-child(2n+3){margin-top:30px}.param-slider-container{display:inline-block;width:100%}input[type=range]{width:100%}.plot{display:inline-block}.plot-container{display:grid;grid-template-columns:1fr 1fr;column-gap:10px}.axis{stroke-width:3;stroke:#aaa}.axis-tick{stroke-width:3;stroke:#aaa}.axis-label{stroke-opacity:0;fill:#ddd;font-size:17px}.x-axis-label{text-anchor:middle;dominant-baseline:hanging}.y-axis-label{text-anchor:end;dominant-baseline:middle}.math{color:#000;background-color:#fff;padding:9px 5px;border-radius:2px}.radio-button-container label input{display:none}.radio-button-container.horizontal{display:flex;flex-direction:row;align-content:stretch;line-height:initial}.radio-button-container.vertical{display:flex;flex-direction:column}.button{padding:7px 8px;margin-right:3px;font-size:15px;border-radius:4px;background:#ccc;background-image:-webkit-linear-gradient(top,#fff,#aaa);color:#000;text-shadow:1px 1px #ddd}.button:hover{cursor:pointer}.button:active{background:#ccc;background-image:-webkit-linear-gradient(top,#999,#fff);color:#333}.button:disabled{background:#ccc;background-image:-webkit-linear-gradient(top,#999,#aaa);color:#444;text-shadow:1px 1px #ccc;cursor:default}.highlighted-text{color:var(--color-highlight)}.secondary-text{color:var(--color-secondary)}.tertiary-text{color:var(--color-tertiary)}.quaternary-text{color:var(--color-quaternary)}.viz-canvas{padding-top:1em}.sci-num{padding-right:.15em}.eqn-left{text-align:right}.eqn-middle{padding-left:.25em;padding-right:.25em}.eqn-right{text-align:left}.radio-label{padding-left:3px}.subscript{position:relative;top:.3em;left:0;font-size:65%}.superscript{position:relative;bottom:.8em;left:0;font-size:65%}.minus-sign{margin-right:1px}.operator{margin-left:3px;margin-right:3px}button.depressed-button{background-color:#555;color:#fff}input[type=radio]{position:relative;bottom:4px}input[type=range]{-webkit-appearance:none;-moz-apperance:none;height:8px;padding:0 0;background:#8b8f92;border-radius:2px;position:relative;bottom:4px;outline:0}input[type=range]:disabled{opacity:.5}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-apperance:none;width:25px;height:25px;-webkit-border-radius:20px;-moz-border-radius:20px;-ms-border-radius:20px;-o-border-radius:20px;border-radius:20px;background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fefefe),color-stop(.49,#d7d7d7),color-stop(.51,#d1d1d1),color-stop(1,#c8c8c8));border:1px solid #787878}input[type=range]::-moz-range-thumb{box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;border:1px solid #000;height:20px;width:20px;border-radius:20px;background:#fff;cursor:pointer}input[type=range]::-ms-thumb{box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;border:1px solid #000;height:20px;width:20px;border-radius:20px;background:#fff;cursor:pointer}</style></head>
<body>
<div class="controls-container">
<div class="radio-button-container">
<span class="radio-label">f: </span>
<button button-checked="" class="button" id="w1">Wavefunction 1</button>
<button class="button" id="w2">Wavefunction 2</button>
<button class="button" id="w3">Wavefunction 3</button>
</div>
<br/>
<span class="param-slider-container">
<span class="slider-label" style="white-space: nowrap;">Time: </span>
<input class="param-slider" id="time" max="0.1" min="0" oninput="sett(this.value)" step="0.01" style="white-space: nowrap; width: 82%;" type="range"/>
</span>
</div>
<div class="plot-container">
<svg height="600" id="svg" style="margin: auto; display: block;" width="1200" xmlns="http://www.w3.org/2000/svg"></svg>
</div>
<script type="text/javascript">// Error : Unexpected token: operator (?)
// Line  : 171
// Col   : 16</script><script type="text/javascript">const svg=d3.select("#svg"),buttons=d3.selectAll("button"),w=500,h=500,x1=d3.scaleLinear().range([0,w]).domain([0,1]),y1=d3.scaleLinear().range([h,0]).domain([0,7]),x2=d3.scaleLinear().range([0,w]).domain([0,1]),y2=d3.scaleLinear().range([250,-250]).domain([-.3,.3]);var g1=svg.append("g").attr("transform","translate(50, 50)");g1.append("g").attr("class","axis").attr("transform","translate(0, 500)").call(d3.axisBottom(x1).ticks(6)),g1.append("g").attr("class","axis").call(d3.axisLeft(y1).ticks(8));var l1=g1.append("path").attr("fill","none").style("stroke","#5df").attr("stroke-width",3),l2=g1.append("path").attr("fill","none").style("stroke","#5df").attr("stroke-width",3).style("stroke-dasharray","25 25").style("stroke-opacity",.5),g2=svg.append("g").attr("transform","translate(650, 300)");g2.append("g").attr("class","axis").call(d3.axisBottom(x2).tickValues([.2,.4,.6,.8,1])),g2.append("g").attr("class","axis").call(d3.axisLeft(y2).tickValues([-.2,-.1,.1,.2]));for(var bars=[],i=0;i<20;i++)bars.push(g2.append("rect").attr("x",x2(.05*i)).attr("y",y2(0)).attr("width",25).attr("fill-opacity",.5));function f1(t,a){return math.divide(math.pow(math.abs(math.sum(math.multiply(math.sqrt(2),math.multiply(math.exp(math.multiply(math.multiply(2,math.i),math.multiply(math.pi**2,a))),math.sin(math.multiply(math.multiply(2,math.pi),t)))),math.sum(math.multiply(math.sqrt(2),math.multiply(math.exp(math.multiply(math.divide(math.multiply(9,math.i),2),math.pi**2*a)),math.sin(3*math.pi*t))),math.multiply(math.sqrt(2),math.multiply(math.exp(math.multiply(math.multiply(8,math.i),math.pi**2*a)),math.sin(4*math.pi*t)))))),2),3)}function f2(t,a){return math.divide(math.pow(math.abs(math.sum(math.multiply(math.multiply(math.sqrt(2),math.exp(math.multiply(math.multiply(2,math.i),math.pi**2*a))),math.sin(2*math.pi*t)),math.sum(math.multiply(math.multiply(math.sqrt(2),math.exp(math.multiply(math.divide(math.multiply(9,math.i),2),math.pi**2*a))),math.sin(3*math.pi*t)),math.multiply(math.multiply(math.sqrt(2),math.exp(math.multiply(math.divide(math.multiply(25,math.i),2),math.pi**2*a))),math.sin(5*math.pi*t))))),2),2)}function f3(t,a){return math.divide(math.pow(math.abs(math.sum(math.multiply(math.sqrt(2),math.multiply(math.exp(math.multiply(math.i,a*math.pi**2/2)),math.sin(2*math.pi*t))),math.sum(math.multiply(math.sqrt(2),math.multiply(math.exp(math.multiply(math.i,8*a*math.pi**2)),math.sin(4*math.pi*t))),math.multiply(math.sqrt(2),math.multiply(math.exp(math.multiply(math.i,25*a*math.pi**2/2)),math.sin(5*math.pi*t)))))),2),2)}function setf(t){f=1==t?f1:2==t?f2:f3,update()}function sett(a){t=a,update()}function update(){for(var a,m=[],i=[],l=0;l<1;l+=.001)m.push([l,f(l,t)]),i.push([l,f(l,+t+.02)]);for(l=0;l<20;l++)a=y2(i.slice(50*l,50*l+50).reduce((t,a)=>t+.001*a[1],0)-m.slice(50*l,50*l+50).reduce((t,a)=>t+.001*a[1],0)),bars[l].attr("y",a>0?y2(0):a).attr("height",math.abs(a)).attr("fill",a>0?"#5df":"#f3c002");m=m.map(t=>[x1(t[0]),y1(t[1])]),i=i.map(t=>[x1(t[0]),y1(t[1])]),l1.attr("d",d3.line()(m)),l2.attr("d",d3.line()(i))}var f=f1,t=0;d3.selectAll(".tick text").attr("class","axis-label"),d3.select("#w1").on("click",()=>setf(1)),d3.select("#w2").on("click",()=>setf(2)),d3.select("#w3").on("click",()=>setf(3)),update();</script></body>
</html>