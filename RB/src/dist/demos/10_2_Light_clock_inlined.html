<!DOCTYPE html>
<html>
<head><title>Light Clock</title>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<link href="https://www.w3schools.com/w3css/4/w3.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/>
</head><body><style>body{max-width:800px;margin:50px auto;padding-left:auto;padding-right:auto;background-color:#000;color:#fff;font-size:21px;font-family:sans-serif}.slider-container{line-height:1em}.play-button{margin-top:1.5em;margin-bottom:1em;margin-right:3px;width:5em;height:30px;font-size:15px;border-radius:4px;background:#ccc;background-image:-webkit-linear-gradient(top,#fff,#aaa);color:#000;text-shadow:1px 1px #ddd}.play-button:hover{cursor:pointer}.play-button:active{background:#ccc;background-image:-webkit-linear-gradient(top,#999,#fff);color:#333}.play-button:disabled{background:#ccc;background-image:-webkit-linear-gradient(top,#999,#aaa);color:#444;text-shadow:1px 1px #ccc;cursor:default}.slider-label{margin-right:1em;display:inline-block;padding-bottom:10px}.highlighted-text{color:#5df}.secondary-text{color:#f3c002}.tertiary-text{color:#14c778}.quaternary-text{color:#e5d}.viz-canvas{padding-top:1em}.sci-num{padding-right:.15em}.eqn-left{text-align:right}.eqn-middle{padding-left:.25em;padding-right:.25em}.eqn-right{text-align:left}.radio-label{padding-left:3px}.subscript{position:relative;top:.3em;left:0;font-size:65%}.superscript{position:relative;bottom:.8em;left:0;font-size:65%}.minus-sign{margin-right:1px}.operator{margin-left:3px;margin-right:3px}button.depressed-button{background-color:#555;color:#fff}input[type=radio]{position:relative;bottom:4px}input[type=range]{-webkit-appearance:none;-moz-apperance:none;width:320px;height:8px;padding:0 0;background:#8b8f92;border-radius:2px;margin-top:25px;position:relative;bottom:4px}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-apperance:none;width:25px;height:25px;-webkit-border-radius:20px;-moz-border-radius:20px;-ms-border-radius:20px;-o-border-radius:20px;border-radius:20px;background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fefefe),color-stop(.49,#d7d7d7),color-stop(.51,#d1d1d1),color-stop(1,#c8c8c8));border:1px solid #787878}input[type=range]::-moz-range-thumb{box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;border:1px solid #000;height:20px;width:20px;border-radius:20px;background:#fff;cursor:pointer}input[type=range]::-ms-thumb{box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;border:1px solid #000;height:20px;width:20px;border-radius:20px;background:#fff;cursor:pointer}</style>
<div class="w3-content w3-container" id="formContainer" style="margin-left: -75px;">
<form>
<label for="speed" style="font-size: 20px;"><span class="slider-label">Speed (<i>v</i>):</span></label>
<input id="speed" max=".999" min="0.001" name="speed" oninput="speedID.innerHTML = speed.value" step="0.001" type="range" value="0.001"/>
<br/>
<text style="font-size:20px"><i>v</i> = <span class="highlighted-text sci-num" id="speedID"></span><i>c</i></text>
<br/><br/>
<input class="play-button" id="start" type="button" value="Start"/>
<input class="play-button" id="reset" type="button" value="Reset"/>
</form>
</div>
<br/>
<div class="w3-content w3-container" id="animate" style="margin-left: -75px;">
<canvas height="300" id="canvas" width="900"></canvas>
</div>
<script crossorigin="anonymous" integrity="sha256-CIc5A981wu9+q+hmFYYySmOvsA3IsoX+apaYlL0j6fg=" src="https://cdnjs.cloudflare.com/ajax/libs/canvasjs/1.7.0/canvasjs.min.js"></script>
<script src="https://code.jquery.com/jquery-2.2.0.min.js" type="text/javascript"></script>
<script type="text/javascript">"use strict";const C=299792458,HL_COLOR="#5df",STANDARD_COLORS={highlighted:"#5df",secondary:"#f3c002",tertiary:"#14c778",quaternary:"#e5d"};function isIterable(e){return null!=e&&"function"==typeof e[Symbol.iterator]}function applyDatum(e,{transition:t}={}){const o=d3.select(this).datum(e);if(void 0!==e.class&&o.classed(e.class,!0),void 0!==e.classes)for(const t of e.classes)o.classed(t,!0);const n=void 0===t?o:o.transition(t);Object.entries(e.attrs).forEach(([e,t])=>{n.attr(e,t)}),void 0!==e.styles&&Object.entries(e.styles).forEach(([e,t])=>{n.style(e,t)}),void 0!==e.text&&n.text(e.text),void 0!==e.children&&applyGraphicalObjs(n,()=>e.children,{transition:t})}function _addGraphicalObjs(e,t){return e.selectAll().data(t).enter().append(e=>d3.create(`svg:${e.shape}`).node()).each(applyDatum)}function applyGraphicalObjs(e,t,{key:o,selector:n,cssClass:r,transition:a}={}){const s=e.selectAll(n).data(t,o).join(e=>e.append(e=>d3.create(`svg:${e.shape}`).node()),e=>e,e=>e.remove()).each(function(e){applyDatum.call(this,e,{transition:a})});return void 0!==r&&s.classed(r,!0),s}function lorentzFactor({fracOfC:e}){return e||(e=0),1/Math.sqrt(1-e*e)}function sign(e,t){return void 0===t&&(t=1e-6),e<-t?-1:e<t?0:1}function l2Norm(...e){const t=e.reduce((e,t)=>e+t*t,0);return Math.sqrt(t)}function __matMulHelper(e,t){void 0===e[0].length&&(e=[e]);const o=void 0===t[0].length;o&&(t=t.map(e=>[e]));const n=e.length,r=t.length,a=t[0].length,s=[];for(let o=0;o<n;++o){const n=[];for(let s=0;s<a;++s){let a=0;for(let n=0;n<r;++n)a+=e[o][n]*t[n][s];n.push(a)}s.push(n)}return o?s.map(e=>e[0]):s}function matMul(...e){let t=e[0];for(let o=1;o<e.length;++o)t=__matMulHelper(t,e[o]);return t}function defineArrowhead(e,{id:t,length:o,width:n,color:r,attrs:a}){const s={attrs:{refX:o/2,refY:n/2,markerUnits:"userSpaceOnUse",markerWidth:o,markerHeight:n,orient:"auto"}},l={attrs:{d:`M 1 1 L ${o-1} ${n/2} L 1 ${n-1} L ${o/3} ${n/2} z`,"stroke-linejoin":"miter",stroke:r,fill:r,...a}};e.append("svg:marker").attr("id",t).each(function(){applyDatum.call(this,s)}).append("svg:path").each(function(){applyDatum.call(this,l)})}function groupBy(e,t,o,n=!0){const r={};for(const o of e){const e=t(o);e in r?r[e].push(o):r[e]=[o]}for(const e of o)e in r||(r[e]=[]);return n?Object.entries(r):r}var interval,elem=document.getElementById("animate"),speed=.001,dx=900*speed/20,dy=Math.sqrt(2025-dx**2),pos=0,phoup=!0,phox0=62,phoy0=250,phox=phox0,phoy=phoy0;function render(){if(!(pos>=775)){phoup=!0;var e=document.getElementById("canvas");(e=e.getContext("2d")).clearRect(0,0,900,300),e.strokeStyle="white",e.fillStyle="white",e.beginPath(),e.arc(25+pos,275,25,0,2*Math.PI),e.moveTo(125+pos,275),e.arc(100+pos,275,25,0,2*Math.PI),e.fill(),e.lineWidth=5,e.beginPath(),e.moveTo(0+pos,250),e.lineTo(125+pos,250),e.moveTo(0+pos,50),e.lineTo(125+pos,50),e.moveTo(0,300),e.lineTo(900,300),e.stroke(),e.strokeStyle=STANDARD_COLORS.highlighted,e.lineWidth=2,e.beginPath(),e.moveTo(100+pos,52),e.lineTo(100+pos,248),e.stroke(),e.strokeStyle=STANDARD_COLORS.quaternary,e.lineWidth=2,e.beginPath(),e.moveTo(phox0,phoy0),phox=phox0,phoy=phoy0;for(let t=0;t<Math.floor(pos*(dy/dx)/200);t++)phox+=200*dx/dy,phoup?phoy-=200:phoy+=200,e.lineTo(phox,phoy),phoup=!phoup;phox=pos+phox0,phoup?phoy-=pos*dy/dx%200:phoy+=pos*dy/dx%200,e.lineTo(phox,phoy),e.stroke(),e.beginPath(),e.fillStyle="yellow",e.arc(phox,phoy,7,0,2*Math.PI),e.fill()}}function go(){pos+=dx,render()}$("#start").click(function(){speed=document.getElementById("speed").value,dx=900*speed/20,dy=Math.sqrt(2025-dx**2),interval&&clearInterval(interval),interval=setInterval(go,50)}),$("#reset").click(function(){pos=0,phox=phox0,phoy=phoy0,clearInterval(interval),render()}),$(document).ready(function(){const e=document.getElementById("speedID"),t=document.getElementById("speed");e.innerHTML=t.value,render()});</script></body></html>