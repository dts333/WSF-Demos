<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<script src="https://cdn.plot.ly/plotly-latest.min.js" type="text/javascript"></script>
</head>
<body><style>body{max-width:800px;margin:50px auto;padding:0;background-color:#000;color:#fff;font-size:21px;font-family:sans-serif}.play-button{margin-top:1.5em;margin-bottom:1em;width:5em;font-size:15px}.slider-label{margin-right:1em;display:inline-block}.div-below-slider{padding-top:10px}.highlighted-text{color:#5df}.viz-canvas{padding-top:1em}.sci-num{padding-right:.15em}.eqn-left{text-align:right}.eqn-middle{padding-left:.25em;padding-right:.25em}.eqn-right{text-align:left}input[type=range]{-webkit-appearance:none;-moz-apperance:none;width:40%;height:8px;padding:0 0;background:#8b8f92;border-radius:2px;margin-top:25px;position:relative;bottom:4px}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-apperance:none;width:25px;height:25px;-webkit-border-radius:20px;-moz-border-radius:20px;-ms-border-radius:20px;-o-border-radius:20px;border-radius:20px;background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fefefe),color-stop(.49,#d7d7d7),color-stop(.51,#d1d1d1),color-stop(1,#c8c8c8));border:1px solid #787878}input[type=range]::-moz-range-thumb{box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;border:1px solid #000;height:20px;width:20px;border-radius:20px;background:#fff;cursor:pointer}input[type=range]::-ms-thumb{box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;border:1px solid #000;height:20px;width:20px;border-radius:20px;background:#fff;cursor:pointer}body{color:#000;background-color:#fff}.custom-slider-label{min-width:6em}</style>
<span>
<label>
<span class="slider-label custom-slider-label">
Temperature:
</span>
<input id="input-temp" name="input-temp" oninput="update();" type="range"/>
</label>
</span>
<br/>
<span>
<label>
<span class="slider-label custom-slider-label">
ùúô:
</span>
<input id="input-phi" name="input-phi" oninput="update();" type="range"/>
</label>
</span>
<div id="content">
<div id="graph-0" style="width: 600px; height: 400px;"></div>
</div>
<script type="text/javascript">"use strict";const C=299792458;function isIterable(e){return null!=e&&"function"==typeof e[Symbol.iterator]}function applyDatum(e,{transition:t}={}){const r=d3.select(this);r.classed(e.class,!0);const a=void 0===t?r:r.transition(t);Object.entries(e.attrs).forEach(([e,t])=>{a.attr(e,t)})}function _addGraphicalObjs(e,t){return e.selectAll().data(t).enter().append(e=>d3.create(`svg:${e.shape}`).node()).each(applyDatum)}function lorentzFactor({fracOfC:e}){return e||(e=0),1/Math.sqrt(1-e*e)}function sign(e,t){return void 0===t&&(t=1e-6),e<-t?-1:e<t?0:1}const EPSILON=1e-6,LAMBDA=.13,R_MAX=10,graphDiv=document.getElementById("graph-0"),temperatures=[];for(let e=3.6;e>.5;e-=.05)temperatures.push(e);const temperatureSlider=document.getElementById("input-temp");temperatureSlider.min=0,temperatureSlider.max=temperatures.length-1,temperatureSlider.step=1,temperatureSlider.value=temperatureSlider.min;const phis=[];for(let e=0;e<8.5;e+=.1)phis.push(e);const phiSlider=document.getElementById("input-phi");let particle2dTraceIndex,particle3dTraceIndex;function higgs(e,t,r){const a=e*e+t*t;return(1-r)*a+LAMBDA*(a*a)}function getData({f:e,rMax:t,dx:r,dy:a,nCircularLines:s,nRadialLines:n}){const i={x:r,y:a},o={x:Math.ceil(t/r)+1,y:Math.ceil(t/a)+1},c={x:[],y:[],z:[]};["x","y"].forEach(e=>{for(let t=-o[e];t<=o[e];++t)c[e].push(t*i[e])});for(const t of c.x){const r=[];for(const a of c.y){const s=e(t,a);r.push(s)}c.z.push(r)}const l=Math.PI/n,h=[];for(let r=0;r<n;++r){const a={x:[],y:[],z:[]},s=r*l,n=.1,i=Math.ceil(t/n);for(let t=-i;t<=i;++t){const r=t*n,i=r*Math.cos(s),o=r*Math.sin(s);a.x.push(i),a.y.push(o),a.z.push(e(i,o))}h.push(a)}const d=t/s,p=[];for(let r=0;r<=s;++r){const a={x:[],y:[],z:[]},n=r<s?d*r:t,i=.02;for(let t=0;t<2*Math.PI+i;t+=i){const r=n*Math.cos(t),s=n*Math.sin(t);a.x.push(r),a.y.push(s),a.z.push(e(r,s))}p.push(a)}return{grid:c,radialLines:h,circularLines:p}}function getTraceDataForTemp({temperature:e,rMax:t,dx:r,dy:a,nCircularLines:s,nRadialLines:n}){const i=e*e,o=(e,t)=>higgs(e,t,i),{grid:c,radialLines:l,circularLines:h}=getData({f:o,rMax:t,dx:r,dy:a,nCircularLines:s,nRadialLines:n}),d=c.z[(c.z.length-1)/2],p=[];for(let e=0;e<c.x.length;++e)p.push({x:c.x[e],z:d[e]});const u=(i-1)/(2*LAMBDA),x=Math.max(...p.filter(({x:e})=>e*e>u).map(({z:e})=>e));for(let e=0;e<c.z.length;++e){const t=c.x[e],r=t*t,a=c.z[e];for(let e=0;e<a.length;++e){const s=c.y[e],n=a[e];t>0&&s>0?a[e]=null:r+s*s>u&&n>x&&(a[e]=null)}}for(const e of[l,h])for(const t of e)for(let e=0;e<t.x.length;++e){const r=t.x[e],a=t.y[e];r>EPSILON&&a>EPSILON&&(t.z[e]=null)}const y=u>0?Math.sqrt(u):0;return{data2d:p,data3d:c,radialLines:l,circularLines:h,hatBendR:y,hatBendZ:o(y,0),zMax:o(t,0)}}function getParticleInfo({particlePhi:e}){const t=temperatures[+temperatureSlider.value],r={x:e,z:higgs(e,0,t*t)+10+8};return{trace2d:{x:[r.x],y:[r.z],type:"scatter",mode:"markers",marker:{size:10,color:"red"},xaxis:"x2",yaxis:"y2"},trace3d:{x:[0],y:[r.x],z:[r.z+4],type:"scatter3d",mode:"markers",marker:{size:10,color:"red"},showscale:!1,scene:"scene1"}}}function getPlotInfo({temperature:e,phi:t,setCamera:r}){const a=[],{data2d:s,data3d:n,radialLines:i,circularLines:o,hatBendR:c,hatBendZ:l,zMax:h}=getTraceDataForTemp({temperature:e,rMax:R_MAX,dx:.3,dy:.3,nCircularLines:20,nRadialLines:18}),d={x:s.map(e=>e.x),y:s.map(e=>e.z),type:"line",showgrid:!1,showlegend:!1,xaxis:"x2",yaxis:"y2"};a.push(d);const p=getParticleInfo({particlePhi:t});a.push(p.trace2d),particle2dTraceIndex=a.length-1;const u={...n,type:"surface",showscale:!1,scene:"scene1",colorscale:[[0,"rgba(0.3,0.3,0.4)"],[1,"rgb(0.7,0.8,0.9)"]],contours:{x:{highlight:!1},y:{highlight:!1},z:{show:!1}}};a.push(u),a.push(p.trace3d),particle3dTraceIndex=a.length-1;for(const e of[...i,...o])a.push({type:"scatter3d",mode:"lines",...e,line:{color:"#ccc",width:2.5},showscale:!1,scene:"scene1"});const x={bordercolor:"black",borderwidth:1,bgcolor:"#fffde0bb"},y=[];c<EPSILON?y.push({x:0,y:-40,xref:"x2",yref:"y2",showarrow:!1,text:"Stable (ùúô=0)",yanchor:"top",...x}):([-c,c].forEach((e,t)=>{const r=0===t?1:-1;y.push({x:e,y:l,xref:"x2",yref:"y2",showarrow:!0,arrowhead:3,ax:r*c*5,ay:20,arrowcolor:"red",text:"",yanchor:"top"})}),y.push({x:0,y:20,xref:"x2",yref:"y2",showarrow:!0,text:"Unstable",xanchor:"middle",yanchor:"bottom",arrowcolor:"red",ax:0,ay:-20,...x}),y.push({x:0,y:l-40,xref:"x2",yref:"y2",showarrow:!1,text:"Stable",xanchor:"middle",yanchor:"top",...x}));const f={showlegend:!1,showgrid:!1,yaxis2:{anchor:"x2",domain:[0,1],showgrid:!1,visible:!1,fixedrange:!0},xaxis2:{anchor:"y2",domain:[0,.5],showgrid:!1,visible:!1,fixedrange:!0},scene1:{domain:{x:[.5,1],y:[0,1]},xaxis:{showgrid:!1,visible:!1,showspikes:!1},yaxis:{showgrid:!1,visible:!1,showspikes:!1},zaxis:{showgrid:!1,visible:!1,showspikes:!1,range:[l,h]},margin:{t:0,b:0,l:0,r:0},hovermode:!1},annotations:y};f.scene1.camera=r?{up:{x:0,y:0,z:1},center:{x:0,y:0,z:0},eye:{x:1,y:1,z:.8},projection:{type:"perspective"}}:graphDiv._fullLayout.scene._scene.getCamera();return{traces:a,layout:f,config:{displayModeBar:!1,scrollZoom:!1}}}function update(){const e=getPlotInfo({temperature:temperatures[temperatureSlider.value],phi:phis[phiSlider.value],setCamera:!graphDiv.__hasBeenInitialized});Plotly.react(graphDiv,e.traces,e.layout,e.config),graphDiv.__hasBeenInitialized||(graphDiv.__hasBeenInitialized=!0)}phiSlider.min=0,phiSlider.max=phis.length-1,phiSlider.step=1,phiSlider.value=phiSlider.min,update();</script></body>
</html>