"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkcreate_wasm_app"] = self["webpackChunkcreate_wasm_app"] || []).push([["demos_particle_in_a_box_index_js"],{

/***/ "../pkg/particle_in_a_box/demo_bg.js":
/*!*******************************************!*\
  !*** ../pkg/particle_in_a_box/demo_bg.js ***!
  \*******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"EigenfunctionCoefficients\": () => (/* binding */ EigenfunctionCoefficients),\n/* harmony export */   \"Parameters\": () => (/* binding */ Parameters),\n/* harmony export */   \"Wavefunction\": () => (/* binding */ Wavefunction),\n/* harmony export */   \"WavefunctionInitialConditions\": () => (/* binding */ WavefunctionInitialConditions),\n/* harmony export */   \"__wbg_error_09919627ac0992f5\": () => (/* binding */ __wbg_error_09919627ac0992f5),\n/* harmony export */   \"__wbg_new_693216e109162396\": () => (/* binding */ __wbg_new_693216e109162396),\n/* harmony export */   \"__wbg_stack_0ddaca5d1abfb52f\": () => (/* binding */ __wbg_stack_0ddaca5d1abfb52f),\n/* harmony export */   \"__wbindgen_object_drop_ref\": () => (/* binding */ __wbindgen_object_drop_ref),\n/* harmony export */   \"__wbindgen_throw\": () => (/* binding */ __wbindgen_throw),\n/* harmony export */   \"set_panic_hook\": () => (/* binding */ set_panic_hook)\n/* harmony export */ });\n/* harmony import */ var _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./demo_bg.wasm */ \"../pkg/particle_in_a_box/demo_bg.wasm\");\n/* module decorator */ module = __webpack_require__.hmd(module);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__]);\n_demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst heap = new Array(32).fill(undefined);\n\nheap.push(undefined, null, true, false);\n\nfunction getObject(idx) { return heap[idx]; }\n\nlet heap_next = heap.length;\n\nfunction dropObject(idx) {\n    if (idx < 36) return;\n    heap[idx] = heap_next;\n    heap_next = idx;\n}\n\nfunction takeObject(idx) {\n    const ret = getObject(idx);\n    dropObject(idx);\n    return ret;\n}\n\nconst lTextDecoder = typeof TextDecoder === 'undefined' ? (0, module.require)('util').TextDecoder : TextDecoder;\n\nlet cachedTextDecoder = new lTextDecoder('utf-8', { ignoreBOM: true, fatal: true });\n\ncachedTextDecoder.decode();\n\nlet cachedUint8Memory0 = new Uint8Array();\n\nfunction getUint8Memory0() {\n    if (cachedUint8Memory0.byteLength === 0) {\n        cachedUint8Memory0 = new Uint8Array(_demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.memory.buffer);\n    }\n    return cachedUint8Memory0;\n}\n\nfunction getStringFromWasm0(ptr, len) {\n    return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr, ptr + len));\n}\n/**\n*/\nfunction set_panic_hook() {\n    _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.set_panic_hook();\n}\n\nfunction _assertClass(instance, klass) {\n    if (!(instance instanceof klass)) {\n        throw new Error(`expected instance of ${klass.name}`);\n    }\n    return instance.ptr;\n}\n\nlet cachedFloat64Memory0 = new Float64Array();\n\nfunction getFloat64Memory0() {\n    if (cachedFloat64Memory0.byteLength === 0) {\n        cachedFloat64Memory0 = new Float64Array(_demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.memory.buffer);\n    }\n    return cachedFloat64Memory0;\n}\n\nlet WASM_VECTOR_LEN = 0;\n\nfunction passArrayF64ToWasm0(arg, malloc) {\n    const ptr = malloc(arg.length * 8);\n    getFloat64Memory0().set(arg, ptr / 8);\n    WASM_VECTOR_LEN = arg.length;\n    return ptr;\n}\n\nfunction addHeapObject(obj) {\n    if (heap_next === heap.length) heap.push(heap.length + 1);\n    const idx = heap_next;\n    heap_next = heap[idx];\n\n    heap[idx] = obj;\n    return idx;\n}\n\nconst lTextEncoder = typeof TextEncoder === 'undefined' ? (0, module.require)('util').TextEncoder : TextEncoder;\n\nlet cachedTextEncoder = new lTextEncoder('utf-8');\n\nconst encodeString = (typeof cachedTextEncoder.encodeInto === 'function'\n    ? function (arg, view) {\n    return cachedTextEncoder.encodeInto(arg, view);\n}\n    : function (arg, view) {\n    const buf = cachedTextEncoder.encode(arg);\n    view.set(buf);\n    return {\n        read: arg.length,\n        written: buf.length\n    };\n});\n\nfunction passStringToWasm0(arg, malloc, realloc) {\n\n    if (realloc === undefined) {\n        const buf = cachedTextEncoder.encode(arg);\n        const ptr = malloc(buf.length);\n        getUint8Memory0().subarray(ptr, ptr + buf.length).set(buf);\n        WASM_VECTOR_LEN = buf.length;\n        return ptr;\n    }\n\n    let len = arg.length;\n    let ptr = malloc(len);\n\n    const mem = getUint8Memory0();\n\n    let offset = 0;\n\n    for (; offset < len; offset++) {\n        const code = arg.charCodeAt(offset);\n        if (code > 0x7F) break;\n        mem[ptr + offset] = code;\n    }\n\n    if (offset !== len) {\n        if (offset !== 0) {\n            arg = arg.slice(offset);\n        }\n        ptr = realloc(ptr, len, len = offset + arg.length * 3);\n        const view = getUint8Memory0().subarray(ptr + offset, ptr + len);\n        const ret = encodeString(arg, view);\n\n        offset += ret.written;\n    }\n\n    WASM_VECTOR_LEN = offset;\n    return ptr;\n}\n\nlet cachedInt32Memory0 = new Int32Array();\n\nfunction getInt32Memory0() {\n    if (cachedInt32Memory0.byteLength === 0) {\n        cachedInt32Memory0 = new Int32Array(_demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.memory.buffer);\n    }\n    return cachedInt32Memory0;\n}\n/**\n*/\nclass EigenfunctionCoefficients {\n\n    static __wrap(ptr) {\n        const obj = Object.create(EigenfunctionCoefficients.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbg_eigenfunctioncoefficients_free(ptr);\n    }\n    /**\n    * @returns {number}\n    */\n    len() {\n        const ret = _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.eigenfunctioncoefficients_len(this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @returns {boolean}\n    */\n    is_empty() {\n        const ret = _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.eigenfunctioncoefficients_is_empty(this.ptr);\n        return ret !== 0;\n    }\n    /**\n    * @returns {number}\n    */\n    coefs_js() {\n        const ret = _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.eigenfunctioncoefficients_coefs_js(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {Parameters} params\n    * @param {number} tol\n    * @returns {EigenfunctionCoefficients}\n    */\n    static new(params, tol) {\n        _assertClass(params, Parameters);\n        const ret = _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.eigenfunctioncoefficients_new(params.ptr, tol);\n        return EigenfunctionCoefficients.__wrap(ret);\n    }\n}\n/**\n*/\nclass Parameters {\n\n    static __wrap(ptr) {\n        const obj = Object.create(Parameters.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbg_parameters_free(ptr);\n    }\n    /**\n    * @param {number} L\n    * @param {number} μ_0\n    * @param {number} p_0\n    * @param {number} σ_0\n    * @param {number} m\n    * @returns {Parameters}\n    */\n    static new(L, μ_0, p_0, σ_0, m) {\n        const ret = _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.parameters_new(L, μ_0, p_0, σ_0, m);\n        return Parameters.__wrap(ret);\n    }\n    /**\n    * @returns {number}\n    */\n    get_L() {\n        const ret = _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.parameters_get_L(this.ptr);\n        return ret;\n    }\n    /**\n    * @returns {number}\n    */\n    get_mu_0() {\n        const ret = _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.parameters_get_mu_0(this.ptr);\n        return ret;\n    }\n    /**\n    * @returns {number}\n    */\n    get_p_0() {\n        const ret = _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.parameters_get_p_0(this.ptr);\n        return ret;\n    }\n    /**\n    * @returns {number}\n    */\n    get_sigma_0() {\n        const ret = _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.parameters_get_sigma_0(this.ptr);\n        return ret;\n    }\n    /**\n    * @returns {number}\n    */\n    get_m() {\n        const ret = _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.parameters_get_m(this.ptr);\n        return ret;\n    }\n}\n/**\n*/\nclass Wavefunction {\n\n    static __wrap(ptr) {\n        const obj = Object.create(Wavefunction.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbg_wavefunction_free(ptr);\n    }\n    /**\n    * @param {Parameters} params\n    * @param {Float64Array} xs\n    * @returns {Wavefunction}\n    */\n    static new(params, xs) {\n        _assertClass(params, Parameters);\n        const ptr0 = passArrayF64ToWasm0(xs, _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_malloc);\n        const len0 = WASM_VECTOR_LEN;\n        const ret = _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.wavefunction_new(params.ptr, ptr0, len0);\n        return Wavefunction.__wrap(ret);\n    }\n    /**\n    * @param {number} t\n    */\n    set_t(t) {\n        _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.wavefunction_set_t(this.ptr, t);\n    }\n    /**\n    * @param {number} dt\n    */\n    tick(dt) {\n        _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.wavefunction_tick(this.ptr, dt);\n    }\n    /**\n    * @returns {number}\n    */\n    curr_t() {\n        const ret = _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.wavefunction_curr_t(this.ptr);\n        return ret;\n    }\n    /**\n    * @returns {number}\n    */\n    psi_t_ptr() {\n        const ret = _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.wavefunction_psi_t_ptr(this.ptr);\n        return ret;\n    }\n    /**\n    * Ψ_t contains complex numbers, which are two floats each\n    * @returns {number}\n    */\n    buffer_len() {\n        const ret = _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.wavefunction_buffer_len(this.ptr);\n        return ret >>> 0;\n    }\n}\n/**\n*/\nclass WavefunctionInitialConditions {\n\n    static __wrap(ptr) {\n        const obj = Object.create(WavefunctionInitialConditions.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbg_wavefunctioninitialconditions_free(ptr);\n    }\n    /**\n    * @param {Parameters} params\n    * @param {Float64Array} xs\n    * @returns {WavefunctionInitialConditions}\n    */\n    static new(params, xs) {\n        _assertClass(params, Parameters);\n        const ptr0 = passArrayF64ToWasm0(xs, _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_malloc);\n        const len0 = WASM_VECTOR_LEN;\n        const ret = _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.wavefunctioninitialconditions_new(params.ptr, ptr0, len0);\n        return WavefunctionInitialConditions.__wrap(ret);\n    }\n    /**\n    * @returns {number}\n    */\n    n_max() {\n        const ret = _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.wavefunctioninitialconditions_n_max(this.ptr);\n        return ret >>> 0;\n    }\n}\n\nfunction __wbg_new_693216e109162396() {\n    const ret = new Error();\n    return addHeapObject(ret);\n};\n\nfunction __wbg_stack_0ddaca5d1abfb52f(arg0, arg1) {\n    const ret = getObject(arg1).stack;\n    const ptr0 = passStringToWasm0(ret, _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_malloc, _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_realloc);\n    const len0 = WASM_VECTOR_LEN;\n    getInt32Memory0()[arg0 / 4 + 1] = len0;\n    getInt32Memory0()[arg0 / 4 + 0] = ptr0;\n};\n\nfunction __wbg_error_09919627ac0992f5(arg0, arg1) {\n    try {\n        console.error(getStringFromWasm0(arg0, arg1));\n    } finally {\n        _demo_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_free(arg0, arg1);\n    }\n};\n\nfunction __wbindgen_object_drop_ref(arg0) {\n    takeObject(arg0);\n};\n\nfunction __wbindgen_throw(arg0, arg1) {\n    throw new Error(getStringFromWasm0(arg0, arg1));\n};\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://create-wasm-app/../pkg/particle_in_a_box/demo_bg.js?");

/***/ }),

/***/ "./demos/particle_in_a_box/index.js":
/*!******************************************!*\
  !*** ./demos/particle_in_a_box/index.js ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var particle_in_a_box_demo_bg_wasm__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! particle_in_a_box/demo_bg.wasm */ \"../pkg/particle_in_a_box/demo_bg.wasm\");\n/* harmony import */ var particle_in_a_box__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! particle_in_a_box */ \"../pkg/particle_in_a_box/demo_bg.js\");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */ \"./node_modules/d3/src/index.js\");\n/* harmony import */ var d3_array__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! d3-array */ \"./node_modules/d3-array/src/range.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var katex__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! katex */ \"./node_modules/katex/dist/katex.mjs\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ \"./demos/particle_in_a_box/utils.js\");\n/* harmony import */ var _three_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./three_utils */ \"./demos/particle_in_a_box/three_utils.js\");\n/* harmony import */ var _qm_demo_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./qm_demo.css */ \"./demos/particle_in_a_box/qm_demo.css\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([particle_in_a_box__WEBPACK_IMPORTED_MODULE_6__, particle_in_a_box_demo_bg_wasm__WEBPACK_IMPORTED_MODULE_8__]);\n([particle_in_a_box__WEBPACK_IMPORTED_MODULE_6__, particle_in_a_box_demo_bg_wasm__WEBPACK_IMPORTED_MODULE_8__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n/* global applyGraphicalObjs Complex THREE makeTextSprite enableDragToRotateCamera katex makeRenderer innerProduct */\n\n\n\n\n\n\n\n\n\n\n\n\nconst WIDTH = 800;\nconst HEIGHT = 325;\nconst HEIGHT_3D = 325;\n\nconst X_MIN = -1;\nconst X_0 = 0;\nconst X_MAX = 80;\n\nconst CAMERA_EXTENT = 11;\nconst xScale3D = d3__WEBPACK_IMPORTED_MODULE_0__.scaleLinear(\n\t[X_MIN, X_MAX],\n\t[-CAMERA_EXTENT * 0.95, CAMERA_EXTENT * 0.95],\n);\n\nconst Y_MAX = 1.1;\nconst Y_0 = 0;\nconst Y_MIN = -Y_MAX;\n\nconst yScale3D = d3__WEBPACK_IMPORTED_MODULE_0__.scaleLinear([0, 1], [0, 3]);\n\nconst Z_MAX = Y_MAX;\nconst Z_0 = 0;\nconst Z_MIN = -Z_MAX;\n\nconst zScale3D = yScale3D;\n\nconst N_WAVEFUNCTION_POINTS = 750;\nlet xs;\nlet wf;\nlet Psi_t;\n\nconst floatFormatter = d3__WEBPACK_IMPORTED_MODULE_0__.formatLocale({ minus: \"-\", decimal: \".\", thousands: \",\" })\n\t.format(\".2f\");\nconst textSpans = {\n\tm: document.getElementById(\"text-m\"),\n\tsigma: document.getElementById(\"text-sigma\"),\n\tp: document.getElementById(\"text-p\"),\n};\n\nconst canvas = document.getElementById(\"plot-3D\");\nd3__WEBPACK_IMPORTED_MODULE_0__.select(canvas).attr(\"width\", WIDTH).attr(\"height\", HEIGHT_3D);\nconst scene = new three__WEBPACK_IMPORTED_MODULE_1__.Scene();\n// const camera = new THREE.PerspectiveCamera(\n// \t150,\n// \tcanvas.clientWidth / canvas.clientHeight,\n// \t0.1,\n// \t2000,\n// );\nconst camera = new three__WEBPACK_IMPORTED_MODULE_1__.OrthographicCamera(\n\t-CAMERA_EXTENT,\n\tCAMERA_EXTENT,\n\t(CAMERA_EXTENT * HEIGHT_3D) / WIDTH,\n\t(-CAMERA_EXTENT * HEIGHT_3D) / WIDTH,\n\t-50,\n\t50,\n);\nconst renderer = _three_utils__WEBPACK_IMPORTED_MODULE_4__.makeRenderer(canvas);\nrenderer.setSize(WIDTH, HEIGHT_3D);\n\n// z will be up\nscene.add(new three__WEBPACK_IMPORTED_MODULE_1__.AmbientLight(0xffffff, 0.7));\nscene.add(\n\t(() => {\n\t\tconst pointLight = new three__WEBPACK_IMPORTED_MODULE_1__.PointLight(0xffffff, 1);\n\t\tpointLight.position.set(0, -3, 20);\n\t\treturn pointLight;\n\t})(),\n);\n\nconst CAMERA_DEFAULT_POSITION = new three__WEBPACK_IMPORTED_MODULE_1__.Vector3(1.4, -5.7, 2.2);\nconst CAMERA_POINT_OF_FOCUS = new three__WEBPACK_IMPORTED_MODULE_1__.Vector3(0, 0, 0);\nconst CAMERA_UP = new three__WEBPACK_IMPORTED_MODULE_1__.Vector3(0, 0, 1);\n\n_three_utils__WEBPACK_IMPORTED_MODULE_4__.enableDragToRotateCamera({\n\tcanvas,\n\tcamera,\n\tscene,\n\trenderer,\n\tpointOfFocus: CAMERA_POINT_OF_FOCUS,\n\tup: CAMERA_UP,\n});\n\nconst AXIS_MATERIAL = new three__WEBPACK_IMPORTED_MODULE_1__.MeshBasicMaterial({\n\tcolor: 0xaaaaaa,\n\tside: three__WEBPACK_IMPORTED_MODULE_1__.DoubleSide,\n\ttransparent: false,\n});\nconst WAVE_MATERIAL = new three__WEBPACK_IMPORTED_MODULE_1__.MeshLambertMaterial({\n\tcolor: 0x2277ff,\n\tside: three__WEBPACK_IMPORTED_MODULE_1__.DoubleSide,\n\ttransparent: false,\n});\n\ncamera.up.copy(CAMERA_UP);\ncamera.position.copy(CAMERA_DEFAULT_POSITION);\ncamera.lookAt(CAMERA_POINT_OF_FOCUS);\n\nconst plot2D = d3__WEBPACK_IMPORTED_MODULE_0__.select(\"#plot-2D\").attr(\"width\", WIDTH).attr(\"height\", HEIGHT);\n\nconst xScale2D = d3__WEBPACK_IMPORTED_MODULE_0__.scaleLinear([X_MIN, X_MAX], [0, WIDTH]);\nconst y2dMax = 0.25;\nconst yScale2D = d3__WEBPACK_IMPORTED_MODULE_0__.scaleLinear([-0.15, y2dMax], [HEIGHT - 25, 0]);\n\nlet currentLength = 6;\nlet isAnimating = false;\n\nconst sliders = {\n\tL: (() => {\n\t\tconst slider = document.getElementById(\"slider-L\");\n\t\tslider.min = 20;\n\t\tslider.max = X_MAX - 1;\n\t\tslider.step = 0.01;\n\t\tslider.value = currentLength;\n\n\t\treturn slider;\n\t})(),\n\tm: (() => {\n\t\tconst slider = document.getElementById(\"slider-m\");\n\t\tslider.min = 1;\n\t\tslider.max = 5;\n\t\tslider.step = 0.01;\n\t\tslider.value = 3;\n\n\t\treturn slider;\n\t})(),\n\tsigma: (() => {\n\t\tconst slider = document.getElementById(\"slider-sigma\");\n\t\tslider.min = 1;\n\t\tslider.max = 5;\n\t\tslider.step = 0.01;\n\t\tslider.value = (slider.min + slider.max) / 2;\n\n\t\treturn slider;\n\t})(),\n\tp0: (() => {\n\t\tconst slider = document.getElementById(\"slider-p0\");\n\t\tslider.min = -3;\n\t\tslider.max = 3;\n\t\tslider.step = 0.01;\n\t\tslider.value = 0;\n\n\t\treturn slider;\n\t})(),\n};\n\nfunction getParams() {\n\tconst [L, m, sigma, p0] = [\"L\", \"m\", \"sigma\", \"p0\"].map(k => +sliders[k].value);\n\treturn particle_in_a_box__WEBPACK_IMPORTED_MODULE_6__.Parameters[\"new\"](L, L / 2, p0, sigma, m);\n}\n\n// eslint-disable-next-line no-use-before-define\nd3__WEBPACK_IMPORTED_MODULE_0__.selectAll(\".slider\").on(\"input\", () => {\n\tupdate(0, true);\n});\n\nfunction getAxisData({ L } = {}) {\n\tconst tickLength = 7;\n\n\tconst xAxisTicks = xScale2D.ticks(20).filter(x => x !== X_0);\n\tconst nXAxisLabels = 5;\n\tconst xAxisLabelTicks = xScale2D.ticks(nXAxisLabels).filter(x => x !== X_0);\n\tconst xAxisFormatter = xScale2D.tickFormat(nXAxisLabels);\n\n\tconst yAxisTicks = yScale2D.ticks(5).filter(y => y !== Y_0);\n\tconst nYAxisLabels = 5;\n\tconst yAxisLabelTicks = yScale2D.ticks(nYAxisLabels).filter(y => y !== Y_0);\n\tconst yAxisFormatter = yScale2D.tickFormat(nYAxisLabels, \"~g\");\n\n\tconst xs0 = xScale2D(X_0);\n\tconst ys0 = yScale2D(Y_0);\n\n\tconst [xMin, xMax] = xScale2D.range();\n\tconst [yMin, yMax] = yScale2D.range();\n\n\tconst axisData = [\n\t\t{\n\t\t\tshape: \"line\",\n\t\t\tclass: \"axis x-axis\",\n\t\t\tattrs: {\n\t\t\t\tx1: xMin,\n\t\t\t\tx2: xMax,\n\t\t\t\ty1: ys0,\n\t\t\t\ty2: ys0,\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tshape: \"line\",\n\t\t\tclass: \"axis y-axis\",\n\t\t\tattrs: {\n\t\t\t\tx1: xs0,\n\t\t\t\tx2: xs0,\n\t\t\t\ty1: yMin,\n\t\t\t\ty2: yMax,\n\t\t\t},\n\t\t},\n\t\t...xAxisTicks.map(x => {\n\t\t\tconst xs = xScale2D(x);\n\t\t\treturn {\n\t\t\t\tshape: \"line\",\n\t\t\t\tclass: \"axis axis-tick x-axis-tick\",\n\t\t\t\tattrs: {\n\t\t\t\t\tx1: xs,\n\t\t\t\t\tx2: xs,\n\t\t\t\t\ty1: ys0,\n\t\t\t\t\ty2: ys0 + tickLength,\n\t\t\t\t},\n\t\t\t};\n\t\t}),\n\t\t...xAxisLabelTicks.map(x => {\n\t\t\tconst xs = xScale2D(x);\n\t\t\treturn {\n\t\t\t\tshape: \"text\",\n\t\t\t\tclass: \"axis axis-label x-axis-label\",\n\t\t\t\ttext: xAxisFormatter(x),\n\t\t\t\tattrs: {\n\t\t\t\t\tx: xs,\n\t\t\t\t\ty: ys0 + 12,\n\t\t\t\t},\n\t\t\t};\n\t\t}),\n\t\t...yAxisTicks.map(y => {\n\t\t\tconst ys = yScale2D(y);\n\t\t\treturn {\n\t\t\t\tshape: \"line\",\n\t\t\t\tclass: \"axis axis-tick y-axis-tick\",\n\t\t\t\tattrs: {\n\t\t\t\t\tx1: xs0,\n\t\t\t\t\tx2: xs0 - tickLength,\n\t\t\t\t\ty1: ys,\n\t\t\t\t\ty2: ys,\n\t\t\t\t},\n\t\t\t};\n\t\t}),\n\t\t...yAxisLabelTicks.map(y => {\n\t\t\tconst ys = yScale2D(y);\n\t\t\treturn {\n\t\t\t\tshape: \"text\",\n\t\t\t\tclass: \"axis axis-label y-axis-label\",\n\t\t\t\ttext: yAxisFormatter(y),\n\t\t\t\tattrs: {\n\t\t\t\t\tx: xs0 - 10,\n\t\t\t\t\ty: ys,\n\t\t\t\t},\n\t\t\t};\n\t\t}),\n\t\t{\n\t\t\tshape: \"text\",\n\t\t\tclass: \"axis axis-label x-axis-label axis-name x-axis-name\",\n\t\t\ttext: \"𝑥\",\n\t\t\tattrs: {\n\t\t\t\tx: xScale2D.range()[1] - 40,\n\t\t\t\ty: ys0 + 20,\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tshape: \"text\",\n\t\t\tclass: \"axis axis-label axis-name\",\n\t\t\ttext: \"|𝜓|²\",\n\t\t\tattrs: {\n\t\t\t\tx: xs0 + 60,\n\t\t\t\ty: yScale2D.range()[1] + 5,\n\t\t\t\t\"text-anchor\": \"end\",\n\t\t\t\t\"dominant-baseline\": \"hanging\",\n\t\t\t},\n\t\t},\n\t];\n\n\treturn axisData;\n}\n_utils__WEBPACK_IMPORTED_MODULE_3__.applyGraphicalObjs(plot2D, getAxisData(), { selector: \".axis\" });\n\nfunction getWavefunctionPath3D() {\n\tconst pathPoints = [];\n\tfor (let i = 0; i < N_WAVEFUNCTION_POINTS; ++i) {\n\t\tconst x = xs[i];\n\t\tconst re = Psi_t[2 * i];\n\t\tconst im = Psi_t[2 * i + 1];\n\t\tpathPoints.push(new three__WEBPACK_IMPORTED_MODULE_1__.Vector3(xScale3D(x), yScale3D(-im), zScale3D(re)));\n\t}\n\tconst path = new three__WEBPACK_IMPORTED_MODULE_1__.CatmullRomCurve3(pathPoints);\n\treturn path;\n}\n\nfunction makeAxisLabel(text) {\n\treturn _three_utils__WEBPACK_IMPORTED_MODULE_4__.makeTextSprite(text, { fontface: \"Times\", fontsize: 20 });\n}\n\nconst xMin = xScale3D(X_MIN);\nconst xs0 = xScale3D(X_0);\nconst xMax = xScale3D(X_MAX);\n\nconst yMin = yScale3D(Y_MIN);\nconst ys0 = yScale3D(Y_0);\nconst yMax = yScale3D(Y_MAX);\n\nconst zMin = zScale3D(Z_MIN);\nconst zs0 = zScale3D(Z_0);\nconst zMax = zScale3D(Z_MAX);\n\nconst objs3d = { empty: true };\n\nfunction update3D() {\n\tconst arrowheadRadius = 0.25;\n\tconst arrowheadHeight = 0.7;\n\tconst arrowheadGeometry = new three__WEBPACK_IMPORTED_MODULE_1__.ConeBufferGeometry(\n\t\tarrowheadRadius,\n\t\tarrowheadHeight,\n\t);\n\n\tif (objs3d.empty) {\n\t\tobjs3d.empty = false;\n\t\tconst axisRadius = 0.06;\n\n\t\t// x axis\n\t\t(() => {\n\t\t\tconst xAxixGeometry = new three__WEBPACK_IMPORTED_MODULE_1__.TubeBufferGeometry(\n\t\t\t\tnew three__WEBPACK_IMPORTED_MODULE_1__.LineCurve3(\n\t\t\t\t\tnew three__WEBPACK_IMPORTED_MODULE_1__.Vector3(xMin, ys0, zs0),\n\t\t\t\t\tnew three__WEBPACK_IMPORTED_MODULE_1__.Vector3(xMax, ys0, zs0),\n\t\t\t\t),\n\t\t\t\t64,\n\t\t\t\taxisRadius * 1.2,\n\t\t\t\t8,\n\t\t\t);\n\t\t\tconst xAxis = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(xAxixGeometry, AXIS_MATERIAL);\n\n\t\t\t// arrowhead rotation code from https://stackoverflow.com/a/11060965\n\t\t\tconst arrowhead = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(arrowheadGeometry, AXIS_MATERIAL);\n\t\t\tarrowhead.rotateZ(-Math.PI / 2);\n\t\t\tarrowhead.position.set(xMax, ys0, zs0);\n\n\t\t\tscene.add(xAxis, arrowhead);\n\t\t})();\n\n\t\t// y axis\n\t\t(() => {\n\t\t\tconst yAxixGeometry = new three__WEBPACK_IMPORTED_MODULE_1__.TubeBufferGeometry(\n\t\t\t\tnew three__WEBPACK_IMPORTED_MODULE_1__.LineCurve3(\n\t\t\t\t\tnew three__WEBPACK_IMPORTED_MODULE_1__.Vector3(xs0, yMin, zs0),\n\t\t\t\t\tnew three__WEBPACK_IMPORTED_MODULE_1__.Vector3(xs0, yMax, zs0),\n\t\t\t\t),\n\t\t\t\t64,\n\t\t\t\taxisRadius,\n\t\t\t\t8,\n\t\t\t);\n\t\t\tconst yAxis = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(yAxixGeometry, AXIS_MATERIAL);\n\n\t\t\tconst arrowhead = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(arrowheadGeometry, AXIS_MATERIAL);\n\t\t\tarrowhead.rotateX(Math.PI);\n\t\t\tarrowhead.position.set(xs0, yMin, zs0);\n\n\t\t\tscene.add(yAxis, arrowhead);\n\t\t})();\n\n\t\t// z axis\n\t\t(() => {\n\t\t\tconst zAxixGeometry = new three__WEBPACK_IMPORTED_MODULE_1__.TubeBufferGeometry(\n\t\t\t\tnew three__WEBPACK_IMPORTED_MODULE_1__.LineCurve3(\n\t\t\t\t\tnew three__WEBPACK_IMPORTED_MODULE_1__.Vector3(xs0, ys0, zMin),\n\t\t\t\t\tnew three__WEBPACK_IMPORTED_MODULE_1__.Vector3(xs0, ys0, zMax),\n\t\t\t\t),\n\t\t\t\t64,\n\t\t\t\taxisRadius,\n\t\t\t\t8,\n\t\t\t);\n\t\t\tconst zAxis = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(zAxixGeometry, AXIS_MATERIAL);\n\n\t\t\tconst arrowhead = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(arrowheadGeometry, AXIS_MATERIAL);\n\t\t\tarrowhead.rotateX(Math.PI / 2);\n\t\t\tarrowhead.position.set(xs0, ys0, zMax);\n\n\t\t\tscene.add(zAxis, arrowhead);\n\t\t})();\n\n\t\t// axis labels\n\t\t(() => {\n\t\t\tconst xAxisLabel = makeAxisLabel(\"𝑥\");\n\t\t\txAxisLabel.position.x = xMax;\n\t\t\txAxisLabel.position.y = ys0;\n\t\t\txAxisLabel.position.z = zs0;\n\t\t\tscene.add(xAxisLabel);\n\n\t\t\tconst yAxisLabel = makeAxisLabel(\"Im[𝜓]\");\n\t\t\tyAxisLabel.position.x = xs0;\n\t\t\tyAxisLabel.position.y = yMin - 0.1;\n\t\t\tyAxisLabel.position.z = -0.2;\n\t\t\tscene.add(yAxisLabel);\n\n\t\t\tconst zAxisLabel = makeAxisLabel(\"Re[𝜓]\");\n\t\t\tzAxisLabel.position.x = xs0 + 0.1;\n\t\t\tzAxisLabel.position.y = ys0 + 0.2;\n\t\t\tzAxisLabel.position.z = zMax;\n\t\t\tscene.add(zAxisLabel);\n\t\t})();\n\n\t\t// wave template geometry\n\t\t(() => {\n\t\t\tconst wave = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(new three__WEBPACK_IMPORTED_MODULE_1__.BufferGeometry(), WAVE_MATERIAL);\n\t\t\tscene.add(wave);\n\t\t\tobjs3d.wave = { wave };\n\t\t})();\n\t}\n\n\t// console.log(m, sigma, p, currentTime);\n\n\tconst { wave } = objs3d.wave;\n\twave.geometry.dispose();\n\twave.geometry = new three__WEBPACK_IMPORTED_MODULE_1__.TubeBufferGeometry(\n\t\tgetWavefunctionPath3D(),\n\t\t1000,\n\t\t0.11,\n\t\t8,\n\t);\n\n\trenderer.render(scene, camera);\n}\n\nconst line = d3__WEBPACK_IMPORTED_MODULE_0__.line().curve(d3__WEBPACK_IMPORTED_MODULE_0__.curveNatural);\nfunction getData2D() {\n\tconst points = [];\n\tfor (let i = 0; i < N_WAVEFUNCTION_POINTS; ++i) {\n\t\tconst x = xs[i];\n\n\t\tconst re = Psi_t[2 * i];\n\t\tconst im = Psi_t[2 * i + 1];\n\t\tconst abs2 = re ** 2 + im ** 2;\n\n\t\tpoints.push([xScale2D(x), yScale2D(abs2)]);\n\t}\n\n\tconst barrierX = xScale2D(currentLength);\n\n\tconst data = [\n\t\t{\n\t\t\tshape: \"path\",\n\t\t\tclass: \"curve curve-background\",\n\t\t\tattrs: {\n\t\t\t\td: line(points),\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tshape: \"path\",\n\t\t\tclass: \"curve curve-foreground\",\n\t\t\tattrs: {\n\t\t\t\td: line(points),\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tshape: \"line\",\n\t\t\tclass: \"curve barrier\",\n\t\t\tattrs: {\n\t\t\t\tx1: barrierX,\n\t\t\t\tx2: barrierX,\n\t\t\t\ty1: yScale2D(0),\n\t\t\t\ty2: yScale2D(y2dMax),\n\t\t\t},\n\t\t},\n\t];\n\treturn data;\n}\n\nlet isFirstRun = true;\nfunction update(dtMS, initialize = false) {\n\tdtMS = dtMS ?? 0;\n\n\tif (initialize) {\n\t\tconst params = getParams();\n\t\tconst L = params.get_L();\n\n\t\txs = (0,d3_array__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(N_WAVEFUNCTION_POINTS).map(\n\t\t\ti => (i * L) / (N_WAVEFUNCTION_POINTS - 1),\n\t\t);\n\t\twf = particle_in_a_box__WEBPACK_IMPORTED_MODULE_6__.Wavefunction[\"new\"](getParams(), xs);\n\t\tPsi_t = new Float64Array(particle_in_a_box_demo_bg_wasm__WEBPACK_IMPORTED_MODULE_8__.memory.buffer, wf.psi_t_ptr(), wf.buffer_len());\n\t} else {\n\t\twf.tick((20 * dtMS) / 1000);\n\t}\n\n\tconst L = +sliders.L.value;\n\tcurrentLength = L;\n\n\t_utils__WEBPACK_IMPORTED_MODULE_3__.applyGraphicalObjs(plot2D, getData2D(), { selector: \".curve\" });\n\tupdate3D();\n\n\t// if (typeof katex !== \"undefined\") {\n\t// \tkatex.render(`m=${floatFormatter(m)}`, textSpans.m);\n\t// \tkatex.render(`\\\\sigma=${floatFormatter(sigma)}`, textSpans.sigma);\n\t// \tkatex.render(`p=${floatFormatter(p)}`, textSpans.p);\n\t// }\n}\n\nlet animationFrame;\n// eslint-disable-next-line no-unused-vars\nfunction play() {\n\tisAnimating = true;\n\n\td3__WEBPACK_IMPORTED_MODULE_0__.selectAll(\".slider\").property(\"disabled\", true);\n\n\tlet prevTimestampMS;\n\tfunction step(timestampMS) {\n\t\tif (prevTimestampMS === undefined) {\n\t\t\tprevTimestampMS = timestampMS;\n\t\t}\n\t\tconst elapsedMS = timestampMS - prevTimestampMS;\n\t\tprevTimestampMS = timestampMS;\n\n\t\tupdate(elapsedMS);\n\n\t\tif (isAnimating) {\n\t\t\tanimationFrame = window.requestAnimationFrame(step);\n\t\t}\n\t}\n\n\tanimationFrame = window.requestAnimationFrame(step);\n}\n\nfunction pause() {\n\twindow.cancelAnimationFrame(animationFrame);\n\tisAnimating = false;\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction reset() {\n\tpause();\n\td3__WEBPACK_IMPORTED_MODULE_0__.selectAll(\".slider\").property(\"disabled\", false);\n\twf.set_t(0);\n\tupdate(0, false);\n}\n\nupdate(0, true);\n\nfor (const [name, func] of [\n\t[\"play\", play],\n\t[\"pause\", pause],\n\t[\"reset\", reset],\n]) {\n\td3__WEBPACK_IMPORTED_MODULE_0__.select(document.getElementById(`btn-${name}`)).on(\"click\", func);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://create-wasm-app/./demos/particle_in_a_box/index.js?");

/***/ }),

/***/ "./demos/particle_in_a_box/three_utils.js":
/*!************************************************!*\
  !*** ./demos/particle_in_a_box/three_utils.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"enableDragToRotateCamera\": () => (/* binding */ enableDragToRotateCamera),\n/* harmony export */   \"getNewPositionForDrag\": () => (/* binding */ getNewPositionForDrag),\n/* harmony export */   \"makeRenderer\": () => (/* binding */ makeRenderer),\n/* harmony export */   \"makeTextSprite\": () => (/* binding */ makeTextSprite),\n/* harmony export */   \"makeThreeCameraDrag\": () => (/* binding */ makeThreeCameraDrag),\n/* harmony export */   \"roundRect\": () => (/* binding */ roundRect),\n/* harmony export */   \"userIsOn_iOS\": () => (/* binding */ userIsOn_iOS)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3 */ \"./node_modules/d3/src/index.js\");\n\n\n\n// https://stackoverflow.com/a/27348780\n\nfunction roundRect(ctx, x, y, w, h, r) {\n\tctx.beginPath();\n\tctx.moveTo(x + r, y);\n\tctx.lineTo(x + w - r, y);\n\tctx.quadraticCurveTo(x + w, y, x + w, y + r);\n\tctx.lineTo(x + w, y + h - r);\n\tctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);\n\tctx.lineTo(x + r, y + h);\n\tctx.quadraticCurveTo(x, y + h, x, y + h - r);\n\tctx.lineTo(x, y + r);\n\tctx.quadraticCurveTo(x, y, x + r, y);\n\tctx.closePath();\n\tctx.fill();\n\tctx.stroke();\n}\n\nconst _three_utils_white = { r: 255, g: 255, b: 255, a: 1.0 };\nconst _three_utils_clear = { r: 0, g: 0, b: 0, a: 0.0 };\n// eslint-disable-next-line no-unused-vars\nfunction makeTextSprite(\n\tmessage,\n\t{\n\t\tfontface,\n\t\tfontsize,\n\t\tfontweight,\n\t\tborderThickness,\n\t\tborderColor,\n\t\tbackgroundColor,\n\t\ttextColor,\n\t\taspectRatio,\n\t\tdepthWrite,\n\t} = {},\n) {\n\t// const _black = { r: 0, g: 0, b: 0, a: 1.0 };\n\n\tfontface = fontface ?? \"sans-serif\";\n\tfontsize = (fontsize ?? 27) / (window.devicePixelRatio / 2) ** 0.5;\n\tfontweight = fontweight ?? \"\";\n\tborderThickness = borderThickness ?? 0;\n\tborderColor = borderColor ?? _three_utils_clear;\n\tbackgroundColor = backgroundColor ?? _three_utils_clear;\n\ttextColor = textColor ?? _three_utils_white;\n\taspectRatio = aspectRatio ?? 1;\n\tdepthWrite = depthWrite ?? false;\n\n\tconst canvas = document.createElement(\"canvas\");\n\n\t// Create the context and set its scale correctly\n\tconst context = canvas.getContext(\"2d\");\n\t// These three lines have to go right after creating the context, and they have to\n\t// go in this order\n\t// https://stackoverflow.com/a/15666143/5496433\n\tcanvas.width *= 2;\n\tcanvas.height *= 2;\n\tconst _pxRat = window.devicePixelRatio;\n\tcontext.setTransform(_pxRat, 0, 0, _pxRat, 0, 0);\n\t// Don't change the above!\n\n\tcontext.font = `${fontweight} ${fontsize}px ${fontface}`;\n\tconst metrics = context.measureText(message);\n\tconst textWidth = metrics.width;\n\n\tcontext.fillStyle = `rgba(${backgroundColor.r},${backgroundColor.g},${backgroundColor.b},${backgroundColor.a})`;\n\tcontext.strokeStyle = `rgba(${borderColor.r},${borderColor.g},${borderColor.b},${borderColor.a})`;\n\n\tcontext.lineWidth = borderThickness;\n\troundRect(\n\t\tcontext,\n\t\tborderThickness / 2,\n\t\tborderThickness / 2,\n\t\t(textWidth + borderThickness) * 1.1,\n\t\tfontsize * 1.4 + borderThickness,\n\t\t8,\n\t);\n\n\tcontext.fillStyle = `rgba(${textColor.r}, ${textColor.g}, ${textColor.b}, 1.0)`;\n\tcontext.fillText(`${message}`, borderThickness + 0.5, fontsize + borderThickness);\n\n\tconst texture = new three__WEBPACK_IMPORTED_MODULE_0__.CanvasTexture(canvas);\n\n\tconst spriteMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.SpriteMaterial({\n\t\tmap: texture,\n\t\t// useScreenCoordinates: false,\n\t});\n\tconst sprite = new three__WEBPACK_IMPORTED_MODULE_0__.Sprite(spriteMaterial);\n\tsprite.scale.set(0.5 * fontsize * aspectRatio, 0.25 * fontsize, 0.75 * fontsize);\n\tsprite.center.set(0, 1);\n\n\tsprite.material.depthWrite = depthWrite;\n\n\treturn sprite;\n}\n\nconst _three_utils_upZ = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, 0, 1);\nfunction getNewPositionForDrag({\n\tdx,\n\tdy,\n\tup,\n\toldPosition,\n\tpointOfFocus,\n\tdragSpeed,\n}) {\n\tconst rotAxisHypotenuse = (dx ** 2 + dy ** 2) ** 0.5;\n\tif (rotAxisHypotenuse < 1e-12) {\n\t\treturn null;\n\t}\n\n\tconst rotAxisXDir = -dy;\n\tconst rotAxisYDir = -dx;\n\tconst rotAxisCosTheta = rotAxisXDir / rotAxisHypotenuse;\n\tconst rotAxisSinTheta = rotAxisYDir / rotAxisHypotenuse;\n\n\tconst originalDisplacementFromPointOfFocus = oldPosition.clone().sub(pointOfFocus);\n\n\tconst originalDisplacementComponentParallelToUp = up\n\t\t.clone()\n\t\t.multiplyScalar(originalDisplacementFromPointOfFocus.dot(up));\n\tconst originalDisplacementComponentPerpendicularToUp =\n\t\toriginalDisplacementFromPointOfFocus\n\t\t\t.clone()\n\t\t\t.sub(originalDisplacementComponentParallelToUp);\n\tconst right = up\n\t\t.clone()\n\t\t.cross(originalDisplacementComponentPerpendicularToUp)\n\t\t.normalize();\n\n\t// Because our vectors are orthonormal, the Ax=b problem has an orthogonal\n\t// matrix and hence its inverse is its transpose, and so x = A^t b, where b =\n\t// [0, sin, cos]\n\tconst rotationAxis = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(\n\t\tup.x * rotAxisSinTheta + right.x * rotAxisCosTheta,\n\t\tup.y * rotAxisSinTheta + right.y * rotAxisCosTheta,\n\t\tup.z * rotAxisSinTheta + right.z * rotAxisCosTheta,\n\t);\n\n\tconst rotationMagnitude = rotAxisHypotenuse * dragSpeed;\n\tconst rotationQuaternion = new three__WEBPACK_IMPORTED_MODULE_0__.Quaternion().setFromAxisAngle(\n\t\trotationAxis,\n\t\trotationMagnitude,\n\t);\n\n\tconst newDisplacementFromPointOfFocus = originalDisplacementFromPointOfFocus\n\t\t.clone()\n\t\t.applyQuaternion(rotationQuaternion);\n\tconst newPosition = pointOfFocus.clone().add(newDisplacementFromPointOfFocus);\n\n\t// To determine whether the rotation is pathological (doing roughly a 180deg turn,\n\t// which looks really abrupt and jerky), we see if the segment between the old\n\t// camera relative position and the new one crosses the line that is the rotation\n\t// axis from \"up\" to the original position\n\n\tconst origRotAxisFromUp = originalDisplacementFromPointOfFocus\n\t\t.clone()\n\t\t.cross(up)\n\t\t.normalize();\n\n\t// THIS ASSUMES z IS UP\n\t// We have two lines, a1*x + b1*y + c = 0 and same with 1 -> 2. Line 1 is the\n\t// rotation axis line, Line 2 is the segment connecting the two displacements\n\tconst a1 = origRotAxisFromUp.y;\n\tconst b1 = -origRotAxisFromUp.x;\n\tconst c1 = 0;\n\n\t// The _1's and _2's here refer to points on line 2; they have nothing to do with line\n\t// 1. The 2_'s refer to the fact that these are on line 2\n\tconst { x2_1, y2_1, x2_2, m } = (() => {\n\t\tconst { x: x2_1, y: y2_1 } = originalDisplacementFromPointOfFocus;\n\t\tconst { x: x2_2, y: y2_2 } = newDisplacementFromPointOfFocus;\n\t\tconst m = (y2_2 - y2_1) / (x2_2 - x2_1);\n\t\treturn { x2_1, x2_2, y2_1, y2_2, m };\n\t})();\n\tconst a2 = m;\n\tconst b2 = -1;\n\tconst c2 = y2_1 - m * x2_1;\n\n\tconst determinant = a1 * b2 - a2 * b1;\n\n\t// The lines are (approximately) parallel iff the determinant is small\n\tif (Math.abs(determinant) > 1e-5) {\n\t\t// Lines aren't parallel; get intersection x\n\t\tconst x = (b1 * c2 - b2 * c1) / determinant;\n\n\t\t// Is x_intersect between the two original points' x's? If yes then that segment\n\t\t// crosses the rotation axis, which is pathological\n\t\tif (x2_1 < x === x < x2_2) {\n\t\t\treturn oldPosition;\n\t\t}\n\t}\n\n\treturn newPosition;\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction makeThreeCameraDrag({\n\tcamera,\n\tscene,\n\trenderer,\n\tpointOfFocus,\n\tup, // Must be normalized\n\tdragSpeed,\n\tcallback,\n}) {\n\tdragSpeed = dragSpeed ?? 0.006;\n\tup = up ?? _three_utils_upZ;\n\n\treturn d3__WEBPACK_IMPORTED_MODULE_1__.drag().on(\"drag\", function (event) {\n\t\tconst { dx, dy } = event;\n\n\t\tconst newCameraPos = getNewPositionForDrag({\n\t\t\tdx,\n\t\t\tdy,\n\t\t\tup,\n\t\t\toldPosition: camera.position,\n\t\t\tpointOfFocus,\n\t\t\tdragSpeed,\n\t\t});\n\n\t\tif (newCameraPos !== null) {\n\t\t\tcamera.position.copy(newCameraPos);\n\t\t\tcamera.lookAt(pointOfFocus);\n\t\t\tcamera.updateProjectionMatrix();\n\t\t\trenderer.render(scene, camera);\n\t\t}\n\n\t\tif (callback) {\n\t\t\tcallback();\n\t\t}\n\t});\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction enableDragToRotateCamera({\n\tcanvas,\n\tcamera,\n\tscene,\n\trenderer,\n\tpointOfFocus,\n\tup, // Must be normalized\n\tdragSpeed,\n\tcallback,\n}) {\n\td3__WEBPACK_IMPORTED_MODULE_1__.select(canvas).call(\n\t\tmakeThreeCameraDrag({\n\t\t\tcamera,\n\t\t\tscene,\n\t\t\trenderer,\n\t\t\tpointOfFocus,\n\t\t\tup,\n\t\t\tdragSpeed,\n\t\t\tcallback,\n\t\t}),\n\t);\n}\n\n// https://stackoverflow.com/a/9039885\nfunction userIsOn_iOS() {\n\treturn (\n\t\t[\n\t\t\t\"iPad Simulator\",\n\t\t\t\"iPhone Simulator\",\n\t\t\t\"iPod Simulator\",\n\t\t\t\"iPad\",\n\t\t\t\"iPhone\",\n\t\t\t\"iPod\",\n\t\t].includes(navigator.platform) ||\n\t\t// iPad on iOS 13 detection\n\t\t(navigator.userAgent.includes(\"Mac\") && \"ontouchend\" in document)\n\t);\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction makeRenderer(canvas) {\n\tconst on_iOS = userIsOn_iOS();\n\tconst renderer = new three__WEBPACK_IMPORTED_MODULE_0__.WebGLRenderer({\n\t\tcanvas: canvas,\n\t\tantialias: !on_iOS,\n\t\tpowerPreference: on_iOS ? \"low-power\" : \"high-performance\",\n\t});\n\n\tcanvas.width = canvas.clientWidth * window.devicePixelRatio;\n\tcanvas.height = canvas.clientHeight * window.devicePixelRatio;\n\trenderer.setSize(canvas.clientWidth, canvas.clientHeight);\n\n\trenderer.localClippingEnabled = false;\n\trenderer.setPixelRatio(window.devicePixelRatio);\n\n\treturn renderer;\n}\n\n\n//# sourceURL=webpack://create-wasm-app/./demos/particle_in_a_box/three_utils.js?");

/***/ }),

/***/ "./demos/particle_in_a_box/utils.js":
/*!******************************************!*\
  !*** ./demos/particle_in_a_box/utils.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"C\": () => (/* binding */ C),\n/* harmony export */   \"HL_COLOR\": () => (/* binding */ HL_COLOR),\n/* harmony export */   \"STANDARD_COLORS\": () => (/* binding */ STANDARD_COLORS),\n/* harmony export */   \"__matMulHelper\": () => (/* binding */ __matMulHelper),\n/* harmony export */   \"_initializeHideableControlsContainer\": () => (/* binding */ _initializeHideableControlsContainer),\n/* harmony export */   \"_initializeRadioButtons\": () => (/* binding */ _initializeRadioButtons),\n/* harmony export */   \"applyDatum\": () => (/* binding */ applyDatum),\n/* harmony export */   \"applyGraphicalObjs\": () => (/* binding */ applyGraphicalObjs),\n/* harmony export */   \"defineArrowhead\": () => (/* binding */ defineArrowhead),\n/* harmony export */   \"getGridlines\": () => (/* binding */ getGridlines),\n/* harmony export */   \"groupBy\": () => (/* binding */ groupBy),\n/* harmony export */   \"isIterable\": () => (/* binding */ isIterable),\n/* harmony export */   \"l2Norm\": () => (/* binding */ l2Norm),\n/* harmony export */   \"lorentzFactor\": () => (/* binding */ lorentzFactor),\n/* harmony export */   \"matMul\": () => (/* binding */ matMul),\n/* harmony export */   \"sampleFromCdf\": () => (/* binding */ sampleFromCdf),\n/* harmony export */   \"sign\": () => (/* binding */ sign),\n/* harmony export */   \"syncButtonState\": () => (/* binding */ syncButtonState)\n/* harmony export */ });\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */ \"./node_modules/d3/src/index.js\");\n\n\n\n\n// eslint-disable-next-line no-unused-vars\nconst C = 299792458;\n// eslint-disable-next-line no-unused-vars\nconst HL_COLOR = \"#5df\";\n// eslint-disable-next-line no-unused-vars\nconst STANDARD_COLORS = {\n\thighlighted: \"#5df\", // cyan used for variables\n\tsecondary: \"#f3c002\", // yellow\n\ttertiary: \"#14c778\", // green\n\tquaternary: \"#e5d\", // pinkish\n\tgraphicPrimary: \"#27f\", // brilliant blue\n};\n\n// https://stackoverflow.com/a/32538867\n// eslint-disable-next-line no-unused-vars\nfunction isIterable(obj) {\n\t// checks for null and undefined\n\tif (obj === null || typeof obj === \"undefined\") {\n\t\treturn false;\n\t}\n\treturn typeof obj[Symbol.iterator] === \"function\";\n}\n\nfunction applyDatum(datum, { transition } = {}) {\n\tconst d3Obj = d3__WEBPACK_IMPORTED_MODULE_0__.select(this);\n\td3Obj.datum(datum);\n\n\tif (\n\t\t(datum.class !== undefined || datum.classes !== undefined) &&\n\t\tthis.hasAttribute(\"class\")\n\t) {\n\t\tthis.removeAttribute(\"class\");\n\t}\n\n\tif (typeof datum.class !== \"undefined\") {\n\t\td3Obj.classed(datum.class, true);\n\t}\n\tif (typeof datum.classes !== \"undefined\") {\n\t\tfor (const c of datum.classes) {\n\t\t\td3Obj.classed(c, true);\n\t\t}\n\t}\n\n\tconst t = typeof transition === \"undefined\" ? d3Obj : d3Obj.transition(transition);\n\tif (datum.attrs !== undefined) {\n\t\tObject.entries(datum.attrs).forEach(([key, val]) => {\n\t\t\tt.attr(key, val);\n\t\t});\n\t}\n\n\tif (datum.styles !== undefined) {\n\t\tObject.entries(datum.styles).forEach(([key, val]) => {\n\t\t\tt.style(key, val);\n\t\t});\n\t}\n\n\tif (datum.text !== undefined) {\n\t\td3Obj.text(datum.text);\n\t}\n\n\tif (datum.children !== undefined) {\n\t\t// eslint-disable-next-line no-use-before-define\n\t\tapplyGraphicalObjs(d3Obj, () => datum.children, {\n\t\t\tselector: function () {\n\t\t\t\treturn this.children;\n\t\t\t},\n\t\t\ttransition,\n\t\t});\n\t}\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction _addGraphicalObjs(sel, dataFunc) {\n\treturn sel\n\t\t.selectAll()\n\t\t.data(dataFunc)\n\t\t.enter()\n\t\t.append(d => d3__WEBPACK_IMPORTED_MODULE_0__.create(`svg:${d.shape}`).node())\n\t\t.each(applyDatum);\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction applyGraphicalObjs(\n\tsel,\n\tdata,\n\t{ key, selector, cssClass, transition } = {},\n) {\n\tconst s = sel\n\t\t.selectAll(selector)\n\t\t.data(data, key)\n\t\t.join(\n\t\t\tenter => enter.append(d => d3__WEBPACK_IMPORTED_MODULE_0__.create(`svg:${d.shape}`).node()),\n\t\t\tupdate => update,\n\t\t\texit =>\n\t\t\t\t(transition !== undefined\n\t\t\t\t\t? exit.transition(transition).style(\"opacity\", 0)\n\t\t\t\t\t: exit\n\t\t\t\t).remove(),\n\t\t)\n\t\t.each(function (d) {\n\t\t\tapplyDatum.call(this, d, { transition });\n\t\t});\n\n\tif (typeof cssClass !== \"undefined\") {\n\t\ts.classed(cssClass, true);\n\t}\n\n\treturn s;\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction lorentzFactor({ fracOfC }) {\n\tif (!fracOfC) {\n\t\tfracOfC = 0;\n\t}\n\treturn 1 / Math.sqrt(1 - fracOfC * fracOfC);\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction sign(x, epsilon) {\n\tif (typeof epsilon === \"undefined\") {\n\t\tepsilon = 1e-6;\n\t}\n\treturn x < -epsilon ? -1 : x < epsilon ? 0 : 1;\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction l2Norm(...vector) {\n\tconst sum = vector.reduce((accum, currVal) => accum + currVal * currVal, 0);\n\treturn Math.sqrt(sum);\n}\n\nfunction __matMulHelper(mat1, mat2) {\n\tconst mat1IsVector = typeof mat1[0].length === \"undefined\";\n\tif (mat1IsVector) {\n\t\t// Convert to row vector if necessary\n\t\tmat1 = [mat1];\n\t}\n\n\tconst mat2IsVector = typeof mat2[0].length === \"undefined\";\n\tif (mat2IsVector) {\n\t\t// Convert to column vector if necessary\n\t\tmat2 = mat2.map(elem => [elem]);\n\t}\n\n\tconst m = mat1.length;\n\tconst k = mat2.length;\n\tconst n = mat2[0].length;\n\n\tconst ans = [];\n\tfor (let r = 0; r < m; ++r) {\n\t\tconst rowAns = [];\n\t\tfor (let c = 0; c < n; ++c) {\n\t\t\tlet sum = 0;\n\t\t\tfor (let i = 0; i < k; ++i) {\n\t\t\t\tsum += mat1[r][i] * mat2[i][c];\n\t\t\t}\n\t\t\trowAns.push(sum);\n\t\t}\n\t\tans.push(rowAns);\n\t}\n\n\tif (mat1IsVector) {\n\t\tif (mat2IsVector) {\n\t\t\t// ans will look like [[x]]\n\t\t\treturn ans[0][0];\n\t\t}\n\t\t// ans will look like [[x, y, z, ...]]\n\t\treturn ans[0];\n\t} else if (mat2IsVector) {\n\t\t// ans will look like [[x], [y], [z], ...]\n\t\treturn ans.map(row => row[0]);\n\t}\n\n\treturn ans;\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction matMul(...mats) {\n\tlet ans = mats[0];\n\tfor (let i = 1; i < mats.length; ++i) {\n\t\tans = __matMulHelper(ans, mats[i]);\n\t}\n\treturn ans;\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction defineArrowhead(defs, { id, length, width, color, attrs, flip }) {\n\tattrs = attrs ?? {};\n\t// flip = flip ?? false;\n\tflip = false;\n\n\tconst markerAttrs = {\n\t\tattrs: {\n\t\t\trefX: length / 2,\n\t\t\trefY: width / 2,\n\t\t\tmarkerUnits: \"userSpaceOnUse\",\n\t\t\tmarkerWidth: length,\n\t\t\tmarkerHeight: width,\n\t\t\torient: \"auto-start-reverse\",\n\t\t},\n\t};\n\n\tconst path = flip\n\t\t? `M ${length - 1} 1 L 1 ${width / 2} L ${length - 1} ${width - 1} L ${\n\t\t\t\t(2 * length) / 3\n\t\t  } ${width / 2} z`\n\t\t: `M 1 1 L ${length - 1} ${width / 2} L 1 ${width - 1} L ${length / 3} ${\n\t\t\t\twidth / 2\n\t\t  } z`;\n\n\tconst arrowheadAttrs = {\n\t\tattrs: {\n\t\t\td: path,\n\t\t\t\"stroke-linejoin\": \"miter\",\n\t\t\tstroke: color,\n\t\t\tfill: color,\n\t\t\t...attrs,\n\t\t},\n\t};\n\tdefs.append(\"svg:marker\")\n\t\t.attr(\"id\", id)\n\t\t.each(function () {\n\t\t\tapplyDatum.call(this, markerAttrs);\n\t\t})\n\t\t.append(\"svg:path\")\n\t\t.each(function () {\n\t\t\tapplyDatum.call(this, arrowheadAttrs);\n\t\t});\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction groupBy(array, keyFunc, expectedKeys, asArray = true) {\n\tconst grouped = {};\n\tfor (const elem of array) {\n\t\tconst key = keyFunc(elem);\n\t\tif (key in grouped) {\n\t\t\tgrouped[key].push(elem);\n\t\t} else {\n\t\t\tgrouped[key] = [elem];\n\t\t}\n\t}\n\n\tif (expectedKeys) {\n\t\tfor (const k of expectedKeys) {\n\t\t\tif (!(k in grouped)) {\n\t\t\t\tgrouped[k] = [];\n\t\t\t}\n\t\t}\n\t}\n\n\tif (asArray) {\n\t\treturn Object.entries(grouped);\n\t}\n\treturn grouped;\n}\n\n// We'll use x and y terminology to describe gridlines running parallel to the y axis,\n// but of course you can swap x and y in the returned array to get gridlines in the\n// other direction. Returns an array of gridlines; each gridline is an array of points\n// [x,y]\n// eslint-disable-next-line no-unused-vars\nfunction getGridlines({\n\tnGridlines,\n\txMin,\n\txMax,\n\tyMin,\n\tyMax,\n\tzFunc,\n\tdrawEdges,\n\tnPointsPerGridline,\n\tswapOrientation,\n}) {\n\tdrawEdges = drawEdges ?? false;\n\tswapOrientation = swapOrientation ?? false;\n\tnPointsPerGridline = nPointsPerGridline ?? 51;\n\n\tif (swapOrientation) {\n\t\t[xMin, yMin] = [yMin, xMin];\n\t\t[xMax, yMax] = [yMax, xMax];\n\t}\n\n\tconst iMin = drawEdges ? 0 : 1;\n\tconst iMaxPlus1 = drawEdges ? nGridlines : nGridlines - 1;\n\n\tconst dx = (xMax - xMin) / (nGridlines - 1);\n\tconst dy = (yMax - yMin) / (nPointsPerGridline - 1);\n\tconst gridlines = [];\n\tfor (let i = iMin; i < iMaxPlus1; ++i) {\n\t\tconst x = xMin + i * dx;\n\t\tconst gridline = [];\n\t\tfor (let j = 0; j < nPointsPerGridline; ++j) {\n\t\t\tconst y = yMin + j * dy;\n\t\t\tlet trueX, trueY;\n\t\t\tif (!swapOrientation) {\n\t\t\t\ttrueX = x;\n\t\t\t\ttrueY = y;\n\t\t\t} else {\n\t\t\t\ttrueX = y;\n\t\t\t\ttrueY = x;\n\t\t\t}\n\t\t\tconst point = [trueX, trueY];\n\t\t\tif (zFunc === null) {\n\t\t\t\tpoint.push(null);\n\t\t\t} else if (zFunc) {\n\t\t\t\tpoint.push(zFunc(trueX, trueY));\n\t\t\t}\n\t\t\tgridline.push(point);\n\t\t}\n\t\tgridlines.push(gridline);\n\t}\n\n\treturn gridlines;\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction sampleFromCdf(cdfPoints, n) {\n\tn = n ?? 1;\n\tconst samples = [];\n\tconst nPoints = cdfPoints.length;\n\n\tfor (let i = 0; i < n; ++i) {\n\t\tconst r = Math.random();\n\t\tlet left = 0;\n\t\tlet right = nPoints - 1;\n\t\tlet currentIndex;\n\n\t\twhile (left < right - 1) {\n\t\t\tcurrentIndex = Math.floor((left + right) / 2);\n\t\t\tconst currentPoint = cdfPoints[currentIndex];\n\t\t\tconst y = currentPoint[1];\n\t\t\tif (r > y) {\n\t\t\t\tleft = currentIndex;\n\t\t\t} else {\n\t\t\t\tright = currentIndex;\n\t\t\t}\n\t\t}\n\n\t\tlet value;\n\t\tif (left < nPoints - 1) {\n\t\t\tconst [x1, y1] = cdfPoints[left];\n\t\t\tconst [x2, y2] = cdfPoints[right];\n\t\t\tconst t = (r - y1) / (y2 - y1);\n\t\t\tvalue = (1 - t) * x1 + t * x2;\n\t\t} else {\n\t\t\tvalue = cdfPoints[left][0];\n\t\t}\n\t\tsamples.push(value);\n\t}\n\n\treturn samples;\n}\n\nfunction syncButtonState(button) {\n\tif (button.hasAttribute(\"data-button-checked\")) {\n\t\tbutton.disabled = true;\n\t} else if (button.disabled) {\n\t\tbutton.setAttribute(\"data-button-checked\", \"\");\n\t}\n}\nfunction _initializeRadioButtons() {\n\tconst radioButtonContainers = document.getElementsByClassName(\n\t\t\"radio-button-container\",\n\t);\n\n\tfor (let i = 0; i < radioButtonContainers.length; ++i) {\n\t\tconst rbc = radioButtonContainers[i];\n\n\t\tconst sel = d3__WEBPACK_IMPORTED_MODULE_0__.select(rbc)\n\t\t\t.selectAll(\"button\")\n\t\t\t.each(function () {\n\t\t\t\tsyncButtonState(this);\n\t\t\t});\n\n\t\tif (!rbc.classList.contains(\"manual-radio-buttons\")) {\n\t\t\tsel.on(\"click._default\", function () {\n\t\t\t\tthis.setAttribute(\"data-button-checked\", \"\");\n\t\t\t\tthis.disabled = true;\n\t\t\t\tconst siblings = this.closest(\n\t\t\t\t\t\".radio-button-container\",\n\t\t\t\t).querySelectorAll(\"button\");\n\t\t\t\tfor (const sibling of siblings) {\n\t\t\t\t\tif (this === sibling) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tsibling.disabled = false;\n\t\t\t\t\tsibling.removeAttribute(\"data-button-checked\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n_initializeRadioButtons();\n\nfunction _initializeHideableControlsContainer() {\n\tconst MIN_DIST_FOR_FULL_OPACITY = 40;\n\tconst MAX_DIST_FOR_NONZERO_OPACITY = 400;\n\tconst opacityScale = d3__WEBPACK_IMPORTED_MODULE_0__.scaleLinear([MIN_DIST_FOR_FULL_OPACITY, MAX_DIST_FOR_NONZERO_OPACITY], [1, 0])\n\t\t.clamp(true);\n\n\tfunction adjustHidableElemOpacity(event) {\n\t\tconst [mouseX, mouseY] = d3__WEBPACK_IMPORTED_MODULE_0__.pointer(event, document.body);\n\n\t\tconst hidableElems = document.getElementsByClassName(\"hides-on-mouse-away\");\n\t\tconst nHidableElems = hidableElems.length;\n\n\t\tfor (let i = 0; i < nHidableElems; ++i) {\n\t\t\tconst elem = hidableElems[i];\n\t\t\tconst { left, right, top, bottom } = elem.getBoundingClientRect();\n\t\t\tconst horizontalDist = Math.max(0, left - mouseX, mouseX - right);\n\t\t\tconst verticalDist = Math.max(0, top - mouseY, mouseY - bottom);\n\t\t\tconst dist = (horizontalDist ** 2 + verticalDist ** 2) ** 0.5;\n\n\t\t\tconst opacity = opacityScale(dist);\n\n\t\t\telem.style.opacity = opacity;\n\t\t}\n\n\t\tif (hidableElems.length === 0) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\td3__WEBPACK_IMPORTED_MODULE_0__.select(document.body).on(\n\t\t\"mousemove.hide-container-on-mouse-away\",\n\t\tadjustHidableElemOpacity,\n\t);\n}\n\n_initializeHideableControlsContainer();\n\n\n//# sourceURL=webpack://create-wasm-app/./demos/particle_in_a_box/utils.js?");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./demos/particle_in_a_box/qm_demo.css":
/*!***********************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./demos/particle_in_a_box/qm_demo.css ***!
  \***********************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/noSourceMaps.js */ \"./node_modules/css-loader/dist/runtime/noSourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n\\t--color-highlight: #5df;\\n\\t--color-secondary: #f3c002;\\n\\t--color-tertiary: #14c778;\\n\\t--color-quaternary: #e5d;\\n\\t--color-graphic-primary: #27f;\\n}\\n\\nbody {\\n\\t/* margin-left: 10px;\\n\\tmargin-top: 10px; */\\n\\tbackground-color: black;\\n\\tcolor: white;\\n\\tfont-size: 22px;\\n\\tfont-family: sans-serif;\\n\\tline-height: 1.8em;\\n}\\n\\n.grid-left-right {\\n\\tdisplay: grid;\\n\\tgrid-template-columns: 13em 1fr;\\n\\talign-items: start;\\n\\tcolumn-gap: 40px;\\n}\\n\\n.grid-left-right-2 {\\n\\tdisplay: grid;\\n\\tgrid-template-columns: max-content 1fr;\\n\\talign-items: start;\\n\\tcolumn-gap: 40px;\\n}\\n\\n.controls-container {\\n\\tdisplay: inline-block;\\n\\tborder: 2px solid white;\\n\\tborder-radius: 5px;\\n\\tpadding: 10px;\\n\\tbackground-color: black;\\n}\\n\\n.controls {\\n\\tgrid-row: span 2;\\n\\tdisplay: grid;\\n\\tgrid-template-columns: 1fr;\\n\\trow-gap: 2px;\\n}\\n\\n.controls > :nth-child(2n + 3) {\\n\\tmargin-top: 30px;\\n}\\n\\n.controls-grid {\\n\\tdisplay: grid;\\n\\tgrid-template-columns: max-content 1fr;\\n\\tcolumn-gap: 20px;\\n\\trow-gap: 5px;\\n}\\n\\n.draggable:hover {\\n\\tcursor: grab;\\n}\\n.draggable:active {\\n\\tcursor: grabbing;\\n}\\n\\n.graph-key {\\n\\tdisplay: grid;\\n\\tgrid-template-columns: 30px 1fr;\\n\\talign-items: center;\\n\\tcolumn-gap: 20px;\\n\\tbackground-color: black;\\n\\tpadding: 15px 6px;\\n\\tborder-radius: 4px;\\n\\tborder: black solid 2px;\\n}\\n.key-line {\\n\\theight: 7px;\\n\\twidth: 40px;\\n}\\n\\n/* Legacy; don't use */\\n.slider-container {\\n\\tgrid-row: span 2;\\n\\tdisplay: grid;\\n\\tgrid-template-columns: 1fr;\\n\\trow-gap: 2px;\\n}\\n\\n/* Legacy; don't use */\\n.slider-container > :nth-child(2n + 3) {\\n\\tmargin-top: 30px;\\n}\\n.param-slider-container {\\n\\tdisplay: inline-block;\\n\\twidth: 100%;\\n}\\ninput[type=\\\"range\\\"] {\\n\\twidth: 100%;\\n}\\n.plot {\\n\\tdisplay: inline-block;\\n}\\n.plot-container {\\n\\tdisplay: grid;\\n\\tgrid-template-columns: 1fr 1fr;\\n\\tcolumn-gap: 10px;\\n}\\n.axis {\\n\\tstroke-width: 3;\\n\\tstroke: #aaa;\\n}\\n.axis-tick {\\n\\tstroke-width: 3;\\n\\tstroke: #aaa;\\n}\\n.axis-label {\\n\\tstroke-opacity: 0;\\n\\tfill: #ddd;\\n\\tfont-size: 17px;\\n}\\n.x-axis-label {\\n\\ttext-anchor: middle;\\n\\tdominant-baseline: hanging;\\n}\\n.y-axis-label {\\n\\ttext-anchor: end;\\n\\tdominant-baseline: middle;\\n}\\n.math {\\n\\tcolor: black;\\n\\tbackground-color: white;\\n\\tpadding: 9px 5px;\\n\\tborder-radius: 2px;\\n\\t/* border: 1px solid white; */\\n}\\n\\n.radio-button-container label input {\\n\\tdisplay: none;\\n}\\n\\n.radio-button-container.horizontal {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\talign-content: stretch;\\n\\tline-height: initial;\\n\\tcolumn-gap: 1px;\\n}\\n\\n.radio-button-container button {\\n\\tflex: 1;\\n}\\n\\n.radio-button-container.vertical {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\t/* align-content: stretch;\\n\\tline-height: initial; */\\n}\\n\\n.button {\\n\\tpadding: 7px 8px;\\n\\tmargin-left: 2px;\\n\\tmargin-right: 2px;\\n\\tfont-size: 15px;\\n\\tborder-radius: 4px;\\n\\tbackground: #ccc;\\n\\tbackground-image: -webkit-linear-gradient(top, #fff, #aaa);\\n\\tcolor: black;\\n\\ttext-shadow: 1px 1px #ddd;\\n}\\n\\n.button:not(:disabled):hover {\\n\\tcursor: pointer;\\n}\\n\\n.button:active {\\n\\tbackground: #ccc;\\n\\tbackground-image: -webkit-linear-gradient(top, #999, #fff);\\n\\tcolor: #333;\\n}\\n\\n.button:disabled {\\n\\tbackground: #ccc;\\n\\tbackground-image: -webkit-linear-gradient(top, #999, #aaa);\\n\\tcolor: #444;\\n\\ttext-shadow: 1px 1px #ccc;\\n\\tcursor: default;\\n}\\n\\n.highlighted-text {\\n\\tcolor: var(--color-highlight);\\n}\\n\\n.secondary-text {\\n\\tcolor: var(--color-secondary);\\n}\\n\\n.tertiary-text {\\n\\tcolor: var(--color-tertiary);\\n}\\n\\n.quaternary-text {\\n\\tcolor: var(--color-quaternary);\\n}\\n\\n.viz-canvas {\\n\\tpadding-top: 1em;\\n}\\n\\n.sci-num {\\n\\tpadding-right: 0.15em;\\n}\\n\\n.eqn-left {\\n\\ttext-align: right;\\n}\\n\\n.eqn-middle {\\n\\tpadding-left: 0.25em;\\n\\tpadding-right: 0.25em;\\n}\\n\\n.eqn-right {\\n\\ttext-align: left;\\n}\\n\\n.radio-label {\\n\\tpadding-left: 3px;\\n}\\n\\n.subscript {\\n\\tposition: relative;\\n\\ttop: 0.3em;\\n\\tleft: 0;\\n\\tfont-size: 65%;\\n}\\n\\n.superscript {\\n\\tposition: relative;\\n\\tbottom: 0.8em;\\n\\tleft: 0;\\n\\tfont-size: 65%;\\n}\\n\\n.minus-sign {\\n\\tmargin-right: 1px;\\n}\\n\\n.operator {\\n\\tmargin-left: 3px;\\n\\tmargin-right: 3px;\\n}\\n\\nbutton.depressed-button {\\n\\tbackground-color: #555;\\n\\tcolor: white;\\n}\\n\\ninput[type=\\\"radio\\\"] {\\n\\tposition: relative;\\n\\tbottom: 4px;\\n}\\n\\ninput[type=\\\"range\\\"] {\\n\\t-webkit-appearance: none;\\n\\t-moz-apperance: none;\\n\\theight: 8px;\\n\\tpadding: 0 0;\\n\\tbackground: #8b8f92;\\n\\tborder-radius: 2px;\\n\\tposition: relative;\\n\\tbottom: 4px;\\n\\toutline: none;\\n}\\n\\ninput[type=\\\"range\\\"]:disabled {\\n\\topacity: 0.5;\\n}\\n\\ninput[type=\\\"range\\\"]::-webkit-slider-thumb {\\n\\t-webkit-appearance: none;\\n\\t-moz-apperance: none;\\n\\twidth: 25px;\\n\\theight: 25px;\\n\\t-webkit-border-radius: 20px;\\n\\t-moz-border-radius: 20px;\\n\\t-ms-border-radius: 20px;\\n\\t-o-border-radius: 20px;\\n\\tborder-radius: 20px;\\n\\tbackground-image: -webkit-gradient(\\n\\t\\tlinear,\\n\\t\\tleft top,\\n\\t\\tleft bottom,\\n\\t\\tcolor-stop(0, #fefefe),\\n\\t\\tcolor-stop(0.49, #d7d7d7),\\n\\t\\tcolor-stop(0.51, #d1d1d1),\\n\\t\\tcolor-stop(1, #c8c8c8)\\n\\t);\\n\\tborder: 1px solid #787878;\\n}\\n\\ninput[type=\\\"range\\\"]::-moz-range-thumb {\\n\\tbox-shadow: 1px 1px 1px #000000, 0 0 1px #0d0d0d;\\n\\tborder: 1px solid #000000;\\n\\theight: 20px;\\n\\twidth: 20px;\\n\\tborder-radius: 20px;\\n\\tbackground: #ffffff;\\n\\tcursor: pointer;\\n}\\n\\n/* All the same stuff for IE */\\ninput[type=\\\"range\\\"]::-ms-thumb {\\n\\tbox-shadow: 1px 1px 1px #000000, 0 0 1px #0d0d0d;\\n\\tborder: 1px solid #000000;\\n\\theight: 20px;\\n\\twidth: 20px;\\n\\tborder-radius: 20px;\\n\\tbackground: #ffffff;\\n\\tcursor: pointer;\\n}\\n\", \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://create-wasm-app/./demos/particle_in_a_box/qm_demo.css?./node_modules/css-loader/dist/cjs.js");

/***/ }),

/***/ "./demos/particle_in_a_box/qm_demo.css":
/*!*********************************************!*\
  !*** ./demos/particle_in_a_box/qm_demo.css ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_singletonStyleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_singletonStyleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_singletonStyleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_qm_demo_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./qm_demo.css */ \"./node_modules/css-loader/dist/cjs.js!./demos/particle_in_a_box/qm_demo.css\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\n;\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\n    \noptions.domAPI = (_node_modules_style_loader_dist_runtime_singletonStyleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_qm_demo_css__WEBPACK_IMPORTED_MODULE_5__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_qm_demo_css__WEBPACK_IMPORTED_MODULE_5__[\"default\"] && _node_modules_css_loader_dist_cjs_js_qm_demo_css__WEBPACK_IMPORTED_MODULE_5__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_qm_demo_css__WEBPACK_IMPORTED_MODULE_5__[\"default\"].locals : undefined);\n\n\n//# sourceURL=webpack://create-wasm-app/./demos/particle_in_a_box/qm_demo.css?");

/***/ }),

/***/ "../pkg/particle_in_a_box/demo_bg.wasm":
/*!*********************************************!*\
  !*** ../pkg/particle_in_a_box/demo_bg.wasm ***!
  \*********************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("var __webpack_instantiate__ = ([WEBPACK_IMPORTED_MODULE_0]) => {\n\treturn __webpack_require__.v(exports, module.id, \"e4fde8cd121a6c801f15\", {\n\t\t\"./demo_bg.js\": {\n\t\t\t\"__wbg_new_693216e109162396\": WEBPACK_IMPORTED_MODULE_0.__wbg_new_693216e109162396,\n\t\t\t\"__wbg_stack_0ddaca5d1abfb52f\": WEBPACK_IMPORTED_MODULE_0.__wbg_stack_0ddaca5d1abfb52f,\n\t\t\t\"__wbg_error_09919627ac0992f5\": WEBPACK_IMPORTED_MODULE_0.__wbg_error_09919627ac0992f5,\n\t\t\t\"__wbindgen_object_drop_ref\": WEBPACK_IMPORTED_MODULE_0.__wbindgen_object_drop_ref,\n\t\t\t\"__wbindgen_throw\": WEBPACK_IMPORTED_MODULE_0.__wbindgen_throw\n\t\t}\n\t});\n}\n__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => {\n\ttry {\n\t/* harmony import */ var WEBPACK_IMPORTED_MODULE_0 = __webpack_require__(/*! ./demo_bg.js */ \"../pkg/particle_in_a_box/demo_bg.js\");\n\tvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([WEBPACK_IMPORTED_MODULE_0]);\n\tvar [WEBPACK_IMPORTED_MODULE_0] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__;\n\tawait __webpack_require__.v(exports, module.id, \"e4fde8cd121a6c801f15\", {\n\t\t\"./demo_bg.js\": {\n\t\t\t\"__wbg_new_693216e109162396\": WEBPACK_IMPORTED_MODULE_0.__wbg_new_693216e109162396,\n\t\t\t\"__wbg_stack_0ddaca5d1abfb52f\": WEBPACK_IMPORTED_MODULE_0.__wbg_stack_0ddaca5d1abfb52f,\n\t\t\t\"__wbg_error_09919627ac0992f5\": WEBPACK_IMPORTED_MODULE_0.__wbg_error_09919627ac0992f5,\n\t\t\t\"__wbindgen_object_drop_ref\": WEBPACK_IMPORTED_MODULE_0.__wbindgen_object_drop_ref,\n\t\t\t\"__wbindgen_throw\": WEBPACK_IMPORTED_MODULE_0.__wbindgen_throw\n\t\t}\n\t});\n\t__webpack_async_result__();\n\t} catch(e) { __webpack_async_result__(e); }\n}, 1);\n\n//# sourceURL=webpack://create-wasm-app/../pkg/particle_in_a_box/demo_bg.wasm?");

/***/ })

}]);